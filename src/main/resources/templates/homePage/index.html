<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">



<div th:replace="~{homePage/fragments/header :: header}"></div>

<body>

	<!-- Header START -->
	<div th:replace="~{homePage/fragments/navHeader :: navHeader}"></div>
	<!-- Header END -->

	<!-- **************** MAIN CONTENT START **************** -->
	<div th:replace="~{homePage/fragments/mainContent :: mainContent}"></div>
	<!-- **************** MAIN CONTENT END **************** -->

	<!-- =======================
Footer START -->
	<div th:replace="~{homePage/fragments/footer :: footer}"></div>
	<!-- =======================
Footer END -->

	<!-- Back to top -->
	<div class="back-top"><i class="bi bi-arrow-up-short position-absolute top-50 start-50 translate-middle"></i></div>

	<!-- jQuery LUÃ”N Äá»‚ TRÆ¯á»šC cÃ¡c file khÃ¡c -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<!-- Bootstrap JS -->
	<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

	<!-- CÃ¡c vendor khÃ¡c -->
	<script src="assets/vendor/tiny-slider/tiny-slider.js"></script>
	<script src="assets/vendor/glightbox/js/glightbox.js"></script>
	<script src="assets/vendor/purecounterjs/dist/purecounter_vanilla.js"></script>

	<!-- Template Functions -->
	<script src="assets/js/functions.js"></script>



	<script>
		function toggleMoreCategories(event) {
			event.preventDefault();
			document.querySelectorAll("#moreCategories").forEach(el => el.style.display = "block");
			event.target.style.display = "none";
		}
		$(document).ready(function () {
			function loadCoursesByCategory(categoryId) {
				console.log('Loading courses for Category ID:', categoryId);

				$.ajax({
					url: 'fragments/courseByCategory',
					type: 'GET',
					data: {
						'categoryId': categoryId
					},
					success: function (data) {
						$('#course-pills-tabContent').html(data);
					},
					error: function () {
						console.error('Lá»—i khi táº£i dá»¯ liá»‡u');
					}
				});
			}

			// Báº¯t sá»± kiá»‡n click vÃ o cÃ¡c tab
			$('#course-pills-tab .nav-link').on('click', function (e) {
				e.preventDefault();

				$('#course-pills-tab .nav-link').removeClass('active');
				$(this).addClass('active');

				const categoryId = $(this).data('category-id');
				loadCoursesByCategory(categoryId);
			});

			// ðŸ”¥ Khi vá»«a load trang, gá»i luÃ´n AJAX cho tab Ä‘áº§u tiÃªn (tab máº·c Ä‘á»‹nh active)
			const firstActiveTab = $('#course-pills-tab .nav-link.active');
			if (firstActiveTab.length > 0) {
				const defaultCategoryId = firstActiveTab.data('category-id');
				loadCoursesByCategory(defaultCategoryId);
			}
		});
	</script>



</body>



</html>