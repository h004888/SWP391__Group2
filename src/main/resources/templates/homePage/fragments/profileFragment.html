<div th:fragment="profile">
    <section class="pt-0">
        <div class="container-fluid px-0">
            <div class="card bg-blue h-100px h-md-200px rounded-0"
                style="background:url('/assets/images/pattern/04.png') no-repeat center center; background-size:cover;">
            </div>
        </div>
        <div class="container mt-n4">
            <div class="row">
                <div class="col-12">
                    <div class="card bg-transparent card-body pb-0 px-0 mt-2 mt-sm-0">
                        <div class="row d-sm-flex justify-sm-content-between mt-2 mt-md-0">
                            <!-- Avatar -->
                            <div class="col-auto d-flex align-items-center">
                                <div class="avatar avatar-xxl position-relative mt-n3">
                                    <img class="avatar-img rounded-circle border border-white border-3 shadow"
                                        th:src="${#authentication.principal.profilePicture != null} ?
                                                                                             ${#authentication.principal.profilePicture} :
                                                                                             @{/img/undraw_profile.svg}" alt="Avatar">

                                </div>
                                <div class="ms-4">
                                    <h2 class="mb-0" th:text="${#authentication.principal.fullName}">User Name</h2>
                                </div>
                            </div>
                            <!-- Profile info -->
                            <div class="col d-sm-flex justify-content-between align-items-center">
                                <!-- <div>
                                  <h1 class="my-1 fs-4" th:text="${profile.fullName}">User Name</h1>
                                  <ul class="list-inline mb-0">
                                    <li class="list-inline-item me-3 mb-1 mb-sm-0">
                                      <span class="h6" th:text="${profile.points}">0</span>
                                      <span class="text-body fw-light">points</span>
                                    </li>
                                    <li class="list-inline-item me-3 mb-1 mb-sm-0">
                                      <span class="h6" th:text="${profile.completedCourses}">0</span>
                                      <span class="text-body fw-light">Completed courses</span>
                                    </li>
                                    <li class="list-inline-item me-3 mb-1 mb-sm-0">
                                      <span class="h6" th:text="${profile.completedLessons}">0</span>
                                      <span class="text-body fw-light">Completed lessons</span>
                                    </li>
                                  </ul>
                                </div> -->
                                <div class="mt-2 mt-sm-0">
                                    <a th:href="@{/learning/my-courses}" class="btn btn-outline-primary mb-0">View my
                                        courses</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="d-xl-none">
                </div>
            </div>
        </div>
    </section>
    <!-- Main content section follows here -->
    <style>
        .profile-sidebar-dark {
            background: #111;
            color: #fff;
        }

        .profile-sidebar-dark .nav-link {
            color: #fff;
        }

        .profile-sidebar-dark .nav-link.active {
            background: #0d6efd;
            color: #fff;
        }

        .profile-sidebar-dark .nav-link:hover {
            background: #222;
            color: #fff;
        }
    </style>
    <div class="container py-4">
        <div class="row">
            <!-- Sidebar Fragment Replace START -->
            <div class="col-lg-3">
                <div th:replace="~{homePage/fragments/profileSidebarFragment :: profileSidebar}"></div>
            </div>
            <!-- Sidebar Fragment Replace END -->
            <!-- Profile Content START -->
            <div class="col-lg-9">
                <div class="card shadow border-0 rounded-4 mx-auto" style="max-width: 900px;">
                    <div class="card-body p-5 text-center">
                        <div class="mb-4">
                            <img th:src="${#authentication.principal.profilePicture != null} ?
                                          ${#authentication.principal.profilePicture} : @{/img/undraw_profile.svg}"
                                alt="Avatar" class="rounded-circle shadow"
                                style="width: 140px; height: 140px; object-fit: cover; border: 4px solid #fff; box-shadow: 0 0 20px rgba(6,106,201,0.15);">
                        </div>
                        <h2 class="mb-1" th:text="${#authentication.principal.fullName}">Full Name</h2>
                        <p class="text-primary mb-2" th:text="${#authentication.principal.userEntity.username}">Username
                        </p>
                        <div class="row justify-content-center mb-4">
                            <div class="col-md-8 text-start">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item bg-transparent"><i class="bi bi-envelope me-2"></i> <span
                                            th:text="${#authentication.principal.userEntity.email}">Email</span></li>
                                    <li class="list-group-item bg-transparent"><i class="bi bi-telephone me-2"></i>
                                        <span th:text="${#authentication.principal.userEntity.phone}">Phone</span>
                                    </li>
                                    <li class="list-group-item bg-transparent"><i class="bi bi-geo-alt me-2"></i> <span
                                            th:text="${#authentication.principal.userEntity.address}">Address</span>
                                    </li>
                                    <li class="list-group-item bg-transparent"><i class="bi bi-lightbulb me-2"></i>
                                        <span th:text="${#authentication.principal.userEntity.personalSkill}">Personal
                                            Skill</span>
                                    </li>
                                    <li class="list-group-item bg-transparent"><i class="bi bi-calendar-event me-2"></i>
                                        <span th:text="${#authentication.principal.userEntity.birthDay}">Birthday</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <a class="btn btn-primary px-4" th:href="@{/profile/edit}"><i
                                class="bi bi-pencil-square me-2"></i>Edit Profile</a>
                    </div>
                </div>
            </div>
            <!-- Profile Content END -->
        </div>
    </div>
</div>