<div id="content" class="container-fluid" th:fragment="contentCourseMaintenances">
    <div class="table-responsive">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-md-8">
                        <h2 th:text="${accNamePage}">Management <b>Maintenances</b></h2>
                    </div>
                    <div class="col-md-4">
                        <form th:action="@{/admin/courseMaintenance/search}" method="get" class="mb-3">
                            <div class="search-box mt-2">
                                <i class="material-icons">&#xE8B6;</i>
                                <input type="text"  name="username" class="form-control" th:value="${selectedUsername}" placeholder="Search by User Name"/>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-md-6 d-flex gap-2 mt-4">
                    <form th:action="@{/admin/courseMaintenance/filter}" method="get" class="mb-4">
                        <select id="monthYear" name="monthYear" class="form-select" onchange="this.form.submit()">
                            <option value="">All Year</option>
                            <option th:each="month : ${monthYears}"
                                    th:value="${#temporals.format(month, 'yyyy-MM')}"
                                    th:text="${#temporals.format(month, 'MM/yyyy')}"
                                    th:selected="${selectedMonthYear == #temporals.format(month, 'yyyy-MM')}"></option>
                        </select>
                    </form>
                </div>
            </div>

            <table  class="table table-striped table-hover table-bordered">
                <thead>
                <tr>
                    <th>Id</th>
                    <th>Month Year</th>
                    <th>Số lượng đăng ký</th>
                    <th>EnrollmentCount</th>
                    <th>Course Name</th>
                    <th>User Name</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="cm : ${courseMaintenances}">
                    <td th:text="${cm.maintenanceId} ?: 'N/A'"></td>
                    <td th:with="formatter=${#temporals.format(cm.monthYear, 'MM/yyyy')}" th:text="${formatter}"></td>
                    <td th:text="${cm.enrollmentCount} ?: 'N/A'"></td>
                    <td th:text="${cm.fee != null} ? ${#numbers.formatDecimal(cm.fee.maintenanceFee, 0, 'COMMA', 0, 'POINT')} : 'N/A'"></td>
                    <td th:text="${cm.course != null} ? ${cm.course.title} : 'N/A'"></td>
                    <td th:text="${cm.course != null and cm.course.instructor != null} ? ${cm.course.instructor.username} : 'N/A'"></td>
                </tr>
                </tbody>
            </table>

            <div class="clearfix">
                <div class="hint-text">Showing <b th:text="${orders.size()}"></b> out of <b>25</b> entries</div>
                <ul class="pagination">
                    <li class="page-item disabled"><a href="#"><i class="fa fa-angle-double-left"></i></a></li>
                    <li class="page-item"><a href="#" class="page-link">1</a></li>
                    <li class="page-item"><a href="#" class="page-link">2</a></li>
                    <li class="page-item active"><a href="#" class="page-link">3</a></li>
                    <li class="page-item"><a href="#" class="page-link">4</a></li>
                    <li class="page-item"><a href="#" class="page-link">5</a></li>
                    <li class="page-item"><a href="#" class="page-link"><i class="fa fa-angle-double-right"></i></a></li>
                </ul>
            </div>
        </div>
    </div>


</div>




