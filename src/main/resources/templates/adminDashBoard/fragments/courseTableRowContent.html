<div th:fragment="courseTableRowContent">
    <tr th:each="course : ${listCourse}">
        <td th:text="${course.courseId}"></td>
        <td th:text="${course.title}"></td>
        <td th:text="${course.duration + ' phút'}"></td>
        <td th:text="'$' + ${course.price}"></td>
        <td th:text="${course.totalLessons}"></td>
        <td th:text="${#temporals.format(course.createdAt, 'dd/MM/yyyy HH:mm')}"></td>
        <td th:text="${#temporals.format(course.updatedAt, 'dd/MM/yyyy HH:mm')}"></td>
        <td>
                         <span th:switch="${course.status}">
                             <span th:case="null" class="badge badge-secondary">
                                 <i class="fas fa-save"></i> Save Draft
                             </span>
                             <span th:case="'pending'" class="badge badge-secondary">
                                 <i class="fas fa-clock"></i> Pending
                             </span>
                             <span th:case="'approved'" class="badge badge-success">
                                 <i class="fas fa-check"></i> Approved
                             </span>
                             <span th:case="'rejected'" class="badge badge-danger">
                                 <i class="fas fa-times"></i> Rejected
                             </span>
                             <span th:case="'resubmit'" class="badge badge-warning text-dark">
                                 <i class="fas fa-exclamation-triangle"></i> ReSubmit
                             </span>
                         </span>
        </td>
        <td>
            <div class="d-flex justify-content-center gap-2 w-100">
                <a th:href="@{/admin/course/detail/{courseId}(courseId=${course.courseId})}"
                   class="btn btn-info btn-sm w-100" title="View Detail">
                    <i class="fas fa-eye"></i>
                </a>

                <a th:href="@{/admin/course/delete/{courseId}(courseId=${course.courseId})}"
                   class="btn btn-danger btn-sm w-100"
                   onclick="return confirm('Bạn có chắc chắn muốn xóa khóa học này không?')" title="Delete">
                    <i class="fas fa-trash"></i>
                </a>
            </div>
        </td>
    </tr>
</div>

<div th:fragment="coursePagination">
    <div class="clearfix" th:if="${totalPages > 0}">
        <div class="hint-text">
            Showing <b th:text="${listCourse.size()}"></b> out of <b th:text="${totalItems}"></b> entries
        </div>
        <ul class="pagination">
            <!-- First Page -->
            <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
                <a class="page-link" th:data-page="0" href="#" title="First">
                    <i class="fa fa-angle-double-left"></i>
                </a>
            </li>

            <!-- Previous Page -->
            <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
                <a class="page-link" th:data-page="${currentPage - 1}" href="#" title="Previous">
                    <i class="fa fa-angle-left"></i>
                </a>
            </li>

            <!-- Page Numbers -->
            <th:block th:with="startPage=${currentPage - 2 < 0 ? 0 : currentPage - 2},
                              endPage=${currentPage + 2 >= totalPages ? totalPages - 1 : currentPage + 2}">

                <!-- Show first page if not in range -->
                <li class="page-item" th:if="${startPage > 0}">
                    <a class="page-link" th:data-page="0" th:text="1" href="#"></a>
                </li>
                <li class="page-item disabled" th:if="${startPage > 1}">
                    <span class="page-link">...</span>
                </li>

                <!-- Show page range -->
                <li class="page-item"
                    th:each="i : ${#numbers.sequence(startPage, endPage)}"
                    th:classappend="${currentPage == i} ? 'active'">
                    <a class="page-link" th:data-page="${i}" th:text="${i + 1}" href="#"></a>
                </li>

                <!-- Show last page if not in range -->
                <li class="page-item disabled" th:if="${endPage < totalPages - 2}">
                    <span class="page-link">...</span>
                </li>
                <li class="page-item" th:if="${endPage < totalPages - 1}">
                    <a class="page-link" th:data-page="${totalPages - 1}" th:text="${totalPages}" href="#"></a>
                </li>
            </th:block>

            <!-- Next Page -->
            <li class="page-item" th:classappend="${currentPage + 1 >= totalPages} ? 'disabled'">
                <a class="page-link" th:data-page="${currentPage + 1}" href="#" title="Next">
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>

            <!-- Last Page -->
            <li class="page-item" th:classappend="${currentPage + 1 >= totalPages} ? 'disabled'">
                <a class="page-link" th:data-page="${totalPages - 1}" href="#" title="Last">
                    <i class="fa fa-angle-double-right"></i>
                </a>
            </li>
        </ul>
    </div>

</div>


