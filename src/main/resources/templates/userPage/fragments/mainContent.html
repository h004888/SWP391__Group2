<main th:fragment="mainContent" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <!-- Đã xóa section avatar + user name phía trên cùng, giữ lại phần nội dung chính -->
    <section class="pt-0 pt-lg-5">
        <div class="container">
            <!-- Title -->
            <div class="row mb-4">
                <div class="col-12">
                    <h2 class="mb-0" th:text="${'Welcome back ' + user.fullName + '!' 	}">Welcome back user!</h2>
                </div>
            </div>

            <div th:if="${course == null}">
                <p>No course found.</p>
            </div>
            <div class="row g-4" th:if="${course != null}">
                <!-- Card START -->
                <div class="col-xl-8">
                    <div class="card p-2 bg-transparent border">
                        <div class="row g-0">
                            <div class="col-md-3">
                                <img src="assets/images/courses/4by3/01.jpg" class="rounded-2" alt="Card image">
                            </div>
                            <div class="col-md-9">
                                <div class="card-body">
                                    <!-- Badge and dropdown -->
                                    <div class="d-flex justify-content-between">
                                        <!-- Badge -->
                                        <div>
                                            <a href="#" class="badge text-bg-primary"
                                                th:text="${course.category.name}">Marketing</a>
                                            <a href="#" class="badge text-bg-dark"
                                                th:text="${course.courseLevel}">Beginner</a>
                                        </div>

                                        <!-- Dropdown -->
                                        <div class="dropdown flex-shrink-0">
                                            <a href="#" class="text-primary-hover text-secondary p-0 mb-0"
                                                id="cardShareAction2" data-bs-toggle="dropdown" aria-expanded="false">
                                                <i class="bi bi-three-dots-vertical"></i>
                                            </a>
                                            <!-- Card share action dropdown menu -->
                                            <ul class="dropdown-menu dropdown-menu-end min-w-auto"
                                                aria-labelledby="cardShareAction2">
                                                <li><a class="dropdown-item" href="#">Upgrade Course</a></li>
                                                <li><a class="dropdown-item" href="#">Rate Course</a></li>
                                                <li><a class="dropdown-item" href="#">Share course</a></li>
                                                <li><a class="dropdown-item" href="#">Unroll</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Title -->
                                    <h5 class="card-title mt-3 mb-0"><a
                                            th:href="@{/learning/course/view(courseId=${course.courseId})}"
                                            th:text="${course.title}">The
                                            Complete Digital Marketing
                                            Course - 12 Courses in 1</a></h5>

                                    <!-- Progress item -->
                                    <div class="overflow-hidden mt-3">
                                        <div class="d-flex justify-content-between">
                                            <h6 class="uppercase">Overall Progress</h6>
                                            <span class="h6 mb-0"
                                                th:text="${#numbers.formatDecimal(progress, 1, 2) + '%'}">20%</span>
                                        </div>
                                        <div class="progress progress-sm bg-success bg-opacity-10">
                                            <div class="progress-bar bg-success aos" role="progressbar"
                                                data-aos="slide-right" data-aos-delay="200" data-aos-duration="1000"
                                                data-aos-easing="ease-in-out" th:style="'width:' + ${progress} + '%'"
                                                th:attr="aria-valuenow=${progress}" aria-valuemin="0"
                                                aria-valuemax="100">
                                            </div>
                                        </div>

                                    </div>

                                    <!-- Button and list -->
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- List -->
                                        <ul class="nav nav-divider small mb-0">
                                            <li class="nav-item h6 mb-0" th:text="${'Week ' + weeksEnrolled}">Week 2
                                            </li>
                                            <li class="nav-item" th:text="${'Lessons ' + numberOfCompletedLessons}">
                                                Lecture 12</li>
                                        </ul>

                                        <!-- Dropdown -->
                                        <a th:href="@{/learning/course/view(courseId=${course.courseId})}"
                                            class="btn btn-sm btn-primary-soft mb-0">Continue</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Card END -->

                <!-- Card START -->
                <div class="col-xl-4">
                    <div class="card card-body bg-transparent border">
                        <h5 class="mb-3">Next lesson</h5>
                        <!-- List -->
                        <div class="d-flex align-items-center position-relative">
                            <!-- Video button -->
                            <a href="#" class="btn btn-primary-soft btn-round mb-0">
                                <i class="fas fa-question-circle"></i>
                            </a>
                            <!-- Content -->
                            <div class="ms-3">
                                <a th:href="@{/learning/course/view(courseId=${course.courseId})}"
                                    class="d-inline-block text-truncate mb-0 h6 fw-normal stretched-link"
                                    th:text="${currentLesson.title}">Quiz -
                                    Digital Marketing</a>
                                <ul class="nav nav-divider small mb-0">
                                    <li class="nav-item"
                                        th:text="'Last updated ' + ${#temporals.format(currentLesson.updatedAt, 'MM/yyyy')}">
                                        12 June</li>
                                    <li class="nav-item" th:text="${currentLesson.contentType}">20 pts</li>
                                    <li class="nav-item" th:text="${currentLesson.duration/60 +'min'}">30 min</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Card END -->
            </div>
        </div>
    </section>
    <!-- =======================
User login content END -->

    <p th:text="${trendingCourses}"></p>
    <!-- =======================
Trending course START -->
    <div th:replace="userPage/fragments/trendingCourse :: trendingCourse"></div>
    <!-- =======================
Trending course END -->


    <!-- =======================
Instructor START -->
    <section>
        <div class="container">
            <!-- Title -->
            <div class="row mb-4">
                <div class="col-12">
                    <h2 class="fs-1 fw-bold">
                        <span class="position-relative z-index-9">Our Best</span>
                        <span class="position-relative z-index-1">Instructors
                            <!-- SVG START -->
                            <span class="position-absolute top-50 start-50 translate-middle z-index-n1">
                                <svg width="205.3px" height="63.3px">
                                    <path class="fill-warning"
                                        d="M204,26.9c-0.1-0.5-0.2-1.1-0.4-1.6c-0.1-0.3-0.3-0.6-0.5-0.9c-0.3-0.5-0.8-0.9-1.6-1.2l0.1-0.1l-0.1,0.1 c0.1-0.5-0.2-0.6-0.6-0.7c-0.1,0-0.1,0-0.2,0c-0.1-0.1-0.3-0.2-0.4-0.4c0-0.4,0-0.7-0.3-0.9c-0.1-0.1-0.4-0.2-0.7-0.2 c0-0.3-0.1-0.6-0.3-0.7c-0.2-0.1-0.4-0.2-0.6-0.2c-0.1,0-0.2,0-0.3,0c-0.6-0.5-1.2-1-1.8-1.4c0-0.1,0-0.1,0-0.1 c-0.1-0.1-0.2-0.2-0.4-0.2c-1.1-0.6-2.2-1.2-3.3-1.9c-7.6-4.5-16.6-5.5-25-7.9c-5.1-1.5-10.6-1.8-15.9-2.5 c-7.1-0.9-14.3-0.8-21.4-1.3c-2.9-0.2-5.8-0.4-8.6-0.4c-1.5,0-3-0.3-4.5-0.1c-3.1,0.5-6.2,0.8-9.3,0.9c-1,0.1-2.1,0.1-3.1,0.1 c-0.1,0-0.2,0-0.3,0c-0.1,0-0.2,0-0.3,0c-1.1,0-2.3,0.1-3.4,0.1c-1.1,0-2.3,0-3.4,0c-6.9-0.4-13.6,0.9-20.2,1.9 c-3.2,0.5-6.4,1.2-9.6,1.9c-3.5,0.8-7.1,0.9-10.6,1.7c-5.1,1.2-10.3,2.3-15.6,3.2c-5.1,0.9-10.1,2.1-15.1,3.4 c-4.6,1.2-8.7,3.2-12.7,5.2c-2.4,1.2-4.8,2.2-6.6,4.1c-2.2,2.3-3.5,5-5.4,7.5c-1.2,1.7-0.9,3.2,0.2,4.9c2.5,3.9,6.9,5.5,11.4,7.2 c2.2,0.8,4.6,1.3,6.7,2.3c2.9,1.4,5.8,2.9,8.9,4.1c6.6,2.5,13.4,4.3,20.4,5.6c3.8,0.7,7.8,1.1,11.7,1.4c6,0.4,12,1.3,18.1,1 c0.4,0.4,0.8,0.4,1.1-0.1c0.9-0.4,1.8,0.1,2.7-0.1c4.7-0.8,9.5-0.4,14.3-0.3c2.7,0,5.4,0.4,8.1,0.3c5-0.2,10.1-0.6,15.1-1 c6.9-0.6,13.8-1.3,20.4-2.8c0.2,0.2,0.3,0.1,0.3-0.1c0.6-0.1,1.2-0.2,1.8-0.3c0.1,0.2,0.3,0.1,0.3,0c0.7-0.1,1.3-0.3,2-0.4 c4.2-0.4,8.4-0.7,12.6-1.3c2.6-0.3,5.2-1,7.8-1.5c0.2,0.1,0.4,0.2,0.6,0.1c0.1,0,0.2-0.1,0.2-0.1c0,0,0.1-0.1,0.1-0.1 c0,0,0.1-0.1,0.1-0.1c0.3-0.1,0.5-0.2,0.8-0.2c0.1,0,0.1,0,0.2,0c0.2,0,0.3-0.1,0.3-0.2c0,0,0,0,0,0l0,0c0,0,0,0,0,0 c0.2,0,0.5-0.1,0.7-0.1c0,0,0,0,0,0c0.1,0,0.2,0,0.3,0c0.2,0,0.4-0.1,0.4-0.4c0.6-0.2,1.2-0.4,1.7-0.7c0.1,0,0.2,0,0.3,0 c0,0,0.1,0,0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1,0,0.1-0.1c0,0,0.1,0,0.1,0c0.3,0.1,0.6,0.1,0.7,0c0.1,0,0.2-0.1,0.2-0.2 c0.1-0.1,0.1-0.2,0.2-0.3c0.7-0.3,1.3-0.6,2-0.8c2-0.9,3.9-1.7,6-2.4c6-1.8,11.5-4.2,16.1-8c1-0.2,1.6-0.7,2-1.3 c0.3-0.4,0.4-0.8,0.6-1.2c0.6-0.1,0.9-0.3,1.1-0.6c0.2-0.3,0.3-0.7,0.4-1.1c0-0.1,0-0.1,0.1-0.2c0.6,0,0.7-0.4,1-0.7 C203.7,32.1,204.6,29.6,204,26.9z M4.4,38.1C4.2,37.6,4,37,4.3,36.5c2.3-3.7,4.3-7.6,8.5-10.2c3.5-2.1,7.4-3.7,11.3-5.3 c5.4-2.3,11.3-3.2,17.1-4.4c0,0.1,0,0.2,0,0.3l0,0c-1.4,0.5-2.7,0.9-4.1,1.4c-4.1,1.4-8.2,2.7-12.2,4.2c-5.4,2.1-9.7,5.3-12.8,9.5 c-0.6,0.8-1.3,1.7-2,2.5c-2.7,3.4-1.2,5.9,1.5,8.8c0.2,0.2,0.4,0.4,0.5,0.6C8.7,42.8,5.7,41.2,4.4,38.1z M198.5,31.8 c-2.1,3.5-5.2,6.4-8.9,8.6c-2.6,1.6-5.6,2.7-8.7,3.7c-4.1,1.3-8.1,3-12,4.6c-5,2-10.2,3.2-15.7,3.6c-7.5,0.6-14.9,1.9-22.2,3.2 c-6.1,1.1-12.4,1.3-18.6,1.9c-7,0.7-14.1,0.2-21.2,0.1c-4-0.1-7.9,0.4-11.8,0.6c-3.3,0.2-6.5,0.2-9.8-0.1c-4.9-0.4-9.9-0.7-14.8-1.2 c-3.5-0.3-7-0.9-10.4-1.8c-4-1.1-8-2.1-12-3.2c-0.6-0.2-1.2-0.3-1.7-0.7c-0.2-0.1-0.5-0.2-0.8-0.3c0.1,0,0.1,0,0.2-0.1 c0.3-0.1,0.6,0,0.9,0.1c0,0,0,0,0,0c4.3,0.6,8.7,1.5,13.1,1.7c0.6,0,1.3,0,1.9,0c0.6,0,1.6,0.3,1.6-0.3c0-0.7-0.9-1.1-1.8-1.1 c-2.7,0-5.3-0.3-7.9-0.7c-5.8-0.9-11.5-1.8-16.9-3.8c-3.7-1.4-6.8-3.4-8.7-6.6c-0.6-1-0.6-2-0.1-3c4-7.8,11.4-12.4,20.6-15.4 c8.4-2.7,16.7-5.6,25.5-7.6c6.3-1.4,12.7-2.3,18.9-3.7C88,8.1,99,7.5,110.1,7.1c4.5-0.2,9-1.1,13.6-0.7c10.5,0.8,21.1,1.5,31.6,3 c5.7,0.8,11.4,1.5,17.2,2.1c4.5,0.5,9,1.8,13.2,3.5c4,1.6,7.5,3.6,10.7,6.3C199.7,24.1,200.6,28.4,198.5,31.8z" />
                                </svg>
                            </span>
                            <!-- SVG END -->
                        </span>
                    </h2>
                    <p class="mb-0">Boost up your knowledge with industries experts</p>
                </div>
            </div>

            <div class="row">
                <!-- Slider START -->
                <div class="tiny-slider arrow-round arrow-creative arrow-blur">
                    <div class="tiny-slider-inner" data-autoplay="true" data-arrow="true" data-dots="false"
                        data-items="4" data-items-lg="3" data-items-md="2" data-items-xs="1">

                        <!-- Card item START -->
                        <div class="card bg-transparent" th:each="instructor : ${lsInstructor}">
                            <div class="position-relative">
                                <!-- Image -->
                                <img th:src="${instructor.profilePicture != null} ? @{${instructor.profilePicture}} : @{/assets/images/instructor/02.jpg}"
                                    class="card-img" alt="course image">
                                <!-- Overlay -->
                                <div class="card-img-overlay d-flex flex-column p-3">
                                    <div class="w-100 mt-auto text-end">
                                        <!-- Card category -->
                                        <a href="#" class="badge text-bg-info rounded-1"><i
                                                class="fas fa-user-graduate me-2"></i>25</a>
                                        <a href="#" class="badge text-bg-orange rounded-1"><i
                                                class="fas fa-clipboard-list me-2"></i>15</a>
                                    </div>
                                </div>
                            </div>
                            <!-- Card body -->
                            <div class="card-body text-center">
                                <!-- Title -->
                                <h5 class="card-title"><a href="#" th:text="${instructor.fullName}">Jacqueline
                                        Miller</a></h5>
                                <p class="mb-2">Computer Teacher</p>
                                <!-- Rating -->
                                <ul class="list-inline hstack justify-content-center">
                                    <li class="list-inline-item ms-2 h6 fw-light mb-0">4.5/5.0</li>
                                    <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i>
                                    </li>
                                    <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i>
                                    </li>
                                    <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i>
                                    </li>
                                    <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i>
                                    </li>
                                    <li class="list-inline-item me-0 small"><i
                                            class="fas fa-star-half-alt text-warning"></i></li>
                                </ul>
                            </div>
                        </div>
                        <!-- Card item END -->


                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- =======================
Instructor END -->

    <!-- =======================
Action box START -->
    <section class="py-5 pt-lg-5" sec:authorize="hasRole('USER')">
        <div class="container">
            <div class="row">
                <div class="col-12 position-relative z-index-1">
                    <!-- Image -->
                    <div class="d-none d-lg-block position-absolute bottom-0 start-0 ms-3 ms-xl-5">
                        <img src="assets/images/element/01.png" alt="">
                    </div>
                    <!-- Pencil and cap SVG -->
                    <div class="position-absolute top-0 end-0 mt-n4 me-5">
                        <img src="assets/images/client/pencil.svg" alt="">
                    </div>
                    <div class="position-absolute bottom-0 start-50 mb-n4">
                        <img src="assets/images/client/graduated.svg" class="rotate-74" alt="">
                    </div>

                    <div class="bg-grad-pink p-4 p-sm-5 rounded position-relative z-index-n1 overflow-hidden">
                        <!-- SVG decoration -->
                        <figure class="position-absolute top-0 start-0 mt-3 ms-n3 opacity-5">
                            <svg width="818.6px" height="235.1px" viewBox="0 0 818.6 235.1">
                                <path class="fill-white"
                                    d="M735,226.3c-5.7,0.6-11.5,1.1-17.2,1.7c-66.2,6.8-134.7,13.7-192.6-16.6c-34.6-18.1-61.4-47.9-87.3-76.7 c-21.4-23.8-43.6-48.5-70.2-66.7c-53.2-36.4-121.6-44.8-175.1-48c-13.6-0.8-27.5-1.4-40.9-1.9c-46.9-1.9-95.4-3.9-141.2-16.5 C8.3,1.2,6.2,0.6,4.2,0H0c3.3,1,6.6,2,10,3c46,12.5,94.5,14.6,141.5,16.5c13.4,0.6,27.3,1.1,40.8,1.9 c53.4,3.2,121.5,11.5,174.5,47.7c26.5,18.1,48.6,42.7,70,66.5c26,28.9,52.9,58.8,87.7,76.9c58.3,30.5,127,23.5,193.3,16.7 c5.8-0.6,11.5-1.2,17.2-1.7c26.2-2.6,55-4.2,83.5-2.2v-1.2C790,222,761.2,223.7,735,226.3z">
                                </path>
                            </svg>
                        </figure>
                        <!-- SVG decoration -->
                        <figure class="position-absolute top-50 start-0 translate-middle-y ms-5">
                            <svg width="473px" height="234px">
                                <path fill-rule="evenodd" opacity="0.051" fill="rgb(255, 255, 255)"
                                    d="M0.004,222.303 L364.497,-0.004 L472.998,32.563 L100.551,233.991 L0.004,222.303 Z" />
                            </svg>
                        </figure>
                        <!-- SVG decoration -->
                        <figure class="position-absolute top-50 end-0 translate-middle-y">
                            <svg width="355.6px" height="396.1px">
                                <path class="fill-danger rotate-10"
                                    d="M32.8,364.1c16.1-14.7,36-21.5,56.8-26.7c20-5.1,40.5-9.7,57.8-21.4c35.7-24.3,51.1-68.5,57.2-109.4 c6.8-45.7,4.6-93.7,21.6-137.5c8.3-21.4,22.3-41.4,43.3-51.9c17.4-8.7,36.2-7.9,54.2-1.5c10.2,3.6,19.8,8.5,29.4,13.5l2.5-4.3 c-2.7-1.4-5.4-2.8-8.2-4.2c-15.8-8-32.9-15.3-50.9-15.2C276,5.6,256.9,16,243.3,31c-16.6,18.3-25.3,42.2-30.5,66 c-5,22.9-6.8,46.3-8.8,69.6c-3.9,44.4-9.7,92.8-40.1,128c-7.1,8.2-15.4,15.4-24.9,20.8c-9.3,5.4-19.5,8.9-29.8,11.8 c-20.2,5.7-41.3,9.1-59.9,19.2c-19.3,10.4-35.1,27.2-44.2,47.1c0,0,0,0.1,0,0.1l4.4,2.6C15,384,22.9,373.1,32.8,364.1z" />
                            </svg>
                        </figure>

                        <div class="row g-3 align-items-center justify-content-lg-end position-relative py-4">
                            <!-- Title -->
                            <div class="col-md-6">
                                <h2 class="text-white">Become an Instructor!</h2>
                                <p class="text-white mb-0">Teach thousands of students and earn money with ease!</p>
                            </div>
                            <!-- Button -->
                            <div class="col-md-6 col-lg-3 text-md-end">
                                <a th:href="@{/become-instructor}" class="btn btn-white mb-0">Get Started Now!</a>
                            </div>
                        </div> <!-- Row END -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- =======================
Action box END -->



</main>