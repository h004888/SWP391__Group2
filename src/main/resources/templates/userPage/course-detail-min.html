<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<!-- Mirrored from stackbros.in/eduport/landing/course-detail-min.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 06 Jun 2025 07:32:06 GMT -->
<head>
    <title>Eduport - LMS, Education and Course Theme</title>

    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="StackBros">
    <meta name="description" content="Eduport- LMS, Education and Course Theme">

    <!-- Dark mode -->
    <script>
        const storedTheme = localStorage.getItem('theme')

        const getPreferredTheme = () => {
            if (storedTheme) {
                return storedTheme
            }
            return window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'light'
        }

        const setTheme = function (theme) {
            if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.setAttribute('data-bs-theme', 'dark')
            } else {
                document.documentElement.setAttribute('data-bs-theme', theme)
            }
        }

        setTheme(getPreferredTheme())

        window.addEventListener('DOMContentLoaded', () => {
            var el = document.querySelector('.theme-icon-active');
            if (el != 'undefined' && el != null) {
                const showActiveTheme = theme => {
                    const activeThemeIcon = document.querySelector('.theme-icon-active use')
                    const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
                    const svgOfActiveBtn = btnToActive.querySelector('.mode-switch use').getAttribute('href')

                    document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
                        element.classList.remove('active')
                    })

                    btnToActive.classList.add('active')
                    activeThemeIcon.setAttribute('href', svgOfActiveBtn)
                }

                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                    if (storedTheme !== 'light' || storedTheme !== 'dark') {
                        setTheme(getPreferredTheme())
                    }
                })

                showActiveTheme(getPreferredTheme())

                document.querySelectorAll('[data-bs-theme-value]')
                    .forEach(toggle => {
                        toggle.addEventListener('click', () => {
                            const theme = toggle.getAttribute('data-bs-theme-value')
                            localStorage.setItem('theme', theme)
                            setTheme(theme)
                            showActiveTheme(theme)
                        })
                    })

            }
        })

    </script>

    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{//assets/images/favicon.ico}">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700&amp;family=Roboto:wght@400;500;700&amp;display=swap">

    <!-- Plugins CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/font-awesome/css/all.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/bootstrap-icons/bootstrap-icons.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/choices/css/choices.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/aos/aos.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/plyr/plyr.css}"/>

    <!-- Theme CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/css/style.css}">

</head>

<body>

<!-- Header START -->
<header class="navbar-light navbar-sticky">
    <!-- Logo Nav START -->
    <nav class="navbar navbar-expand-xl">
        <div class="container">
            <!-- Logo START -->
            <a class="navbar-brand" th:href="@{/home}">
                <img class="light-mode-item navbar-brand-item" th:src="@{/assets/images/logo.svg}" alt="logo">
                <img class="dark-mode-item navbar-brand-item" th:src="@{/assets/images/logo-light.svg}" alt="logo">
            </a>
            <!-- Logo END -->

            <!-- Responsive navbar toggler -->
            <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                    aria-label="Toggle navigation">
				<span class="navbar-toggler-animation">
					<span></span>
					<span></span>
					<span></span>
				</span>
            </button>

            <!-- Main navbar START -->
            <div class="navbar-collapse w-100 collapse" id="navbarCollapse">

                <!-- Nav Main menu START -->
                <ul class="navbar-nav navbar-nav-scroll mx-auto">
                    <!-- Nav item 1 Demos -->
                    <li class="nav-item dropdown">
                        <a class="nav-link " th:href="@{/home/coursesGrid}" id="demoMenu"
                           aria-haspopup="true" aria-expanded="false">Courses</a>

                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link " th:href="@{/learning}"
                           aria-haspopup="true" aria-expanded="false">Education</a>

                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link " href="#"
                           aria-haspopup="true" aria-expanded="false">About</a>

                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link " href="#"
                           aria-haspopup="true" aria-expanded="false">Contact</a>

                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link " href="#"
                           aria-haspopup="true" aria-expanded="false">Wishlist</a>

                    </li>
                </ul>
                <!-- Nav Main menu END -->

                <!-- Nav Search START -->
                <div class="nav my-3 my-xl-0 px-4 flex-nowrap align-items-center">
                    <div class="nav-item w-100">
                        <form class="position-relative">
                            <input class="form-control pe-5 bg-transparent" type="search" placeholder="Search"
                                   aria-label="Search">
                            <button class="bg-transparent p-2 position-absolute top-50 end-0 translate-middle-y border-0 text-primary-hover text-reset"
                                    type="submit">
                                <i class="fas fa-search fs-6 "></i>
                            </button>
                        </form>
                    </div>
                </div>
                <!-- Nav Search END -->
            </div>
            <!-- Main navbar END -->

            <!-- Profile START -->
            <div class="dropdown ms-1 ms-lg-0" sec:authorize="isAuthenticated()">
                <a class="avatar avatar-sm p-0" href="#" id="profileDropdown" role="button" data-bs-auto-close="outside"
                   data-bs-display="static" data-bs-toggle="dropdown" aria-expanded="false">
                    <img class="avatar-img rounded-circle" th:src="@{/assets/images/avatar/01.jpg}" alt="avatar">
                </a>
                <ul class="dropdown-menu dropdown-animation dropdown-menu-end shadow pt-3"
                    aria-labelledby="profileDropdown">
                    <!-- Profile info -->
                    <li class="px-3 mb-3">
                        <div class="d-flex align-items-center">
                            <!-- Avatar -->
                            <div class="avatar me-3">
                                <img class="avatar-img rounded-circle shadow" th:src="@{/assets/images/avatar/01.jpg}"
                                     alt="avatar">
                            </div>
                            <div>
                                <a class="h6" href="#" th:text="${#authentication.principal.userEntity.username}">Lori
                                    Ferguson</a>
                                <p class="small m-0" th:text="${#authentication.principal.userEntity.email}">
                                    example@gmail.com</p>
                            </div>
                        </div>
                    </li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <!-- Links -->
                    <li><a class="dropdown-item" href="#"><i class="bi bi-person fa-fw me-2"></i>Edit Profile</a></li>
                    <li><a class="dropdown-item" href="#"><i class="bi bi-gear fa-fw me-2"></i>Account Settings</a></li>
                    <li><a class="dropdown-item" href="#"><i class="bi bi-info-circle fa-fw me-2"></i>Help</a></li>
                    <li>
                        <a class="dropdown-item bg-danger-soft-hover" th:href="@{/logout}">
                            <i class="bi bi-power fa-fw me-2"></i>
                            Sign Out
                        </a>
                    </li>

                    <hr class="dropdown-divider">
                    </li>
                    <!-- Dark mode options START -->
                    <li>
                        <div
                                class="bg-light dark-mode-switch theme-icon-active d-flex align-items-center p-1 rounded mt-2">
                            <button type="button" class="btn btn-sm mb-0" data-bs-theme-value="light">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-sun fa-fw mode-switch" viewBox="0 0 16 16">
                                    <path
                                            d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
                                    <use href="#"></use>
                                </svg> Light
                            </button>
                            <button type="button" class="btn btn-sm mb-0" data-bs-theme-value="dark">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-moon-stars fa-fw mode-switch" viewBox="0 0 16 16">
                                    <path
                                            d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z" />
                                    <path
                                            d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
                                    <use href="#"></use>
                                </svg> Dark
                            </button>
                            <button type="button" class="btn btn-sm mb-0 active" data-bs-theme-value="auto">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-circle-half fa-fw mode-switch" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                    <use href="#"></use>
                                </svg> Auto
                            </button>
                        </div>
                    </li>
                    <!-- Dark mode options END-->
                </ul>
            </div>
            <!-- Profile START -->
        </div>
    </nav>
    <!-- Logo Nav END -->
</header>
<!-- Header END -->

<!-- **************** MAIN CONTENT START **************** -->
<main>
    <!-- =======================
    Page banner video START -->
    <section class="py-0 pb-lg-5">
        <div class="container">
            <div class="row g-3">
                <!-- Course video START -->
                <div class="col-12">
                    <div class="video-player rounded-3">
                        <video controls crossorigin="anonymous" playsinline poster="/assets/images/videos/poster.jpg">
                            <source src="https://res.cloudinary.com/dmwo4yrsq/video/upload/0fa0c5dd-0757-4e09-979c-0cb8a5c6c895_Hoisting%20trong%20Javascript%20_%20JavaScript%20n%C3%A2ng%20cao.mp4?_a=DAGAACAVZAA0"
                                    size="360">
                            <source src="https://res.cloudinary.com/dmwo4yrsq/video/upload/0fa0c5dd-0757-4e09-979c-0cb8a5c6c895_Hoisting%20trong%20Javascript%20_%20JavaScript%20n%C3%A2ng%20cao.mp4?_a=DAGAACAVZAA0"
                                    size="720">
                            <source src="https://res.cloudinary.com/dmwo4yrsq/video/upload/0fa0c5dd-0757-4e09-979c-0cb8a5c6c895_Hoisting%20trong%20Javascript%20_%20JavaScript%20n%C3%A2ng%20cao.mp4?_a=DAGAACAVZAA0"
                                    size="1080">
                            <!-- Caption files -->
                            <track kind="captions" label="English" srclang="en" src="/assets/images/videos/en.vtt"
                                   default>
                            <track kind="captions" label="French" srclang="fr" src="/assets/images/videos/fr.vtt">
                        </video>
                    </div>
                </div>
                <!-- Course video END -->

                <!-- Playlist responsive toggler START -->
                <div class="col-12 d-lg-none">
                    <button class="btn btn-primary mb-3" type="button" data-bs-toggle="offcanvas"
                            data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">
                        <i class="bi bi-camera-video me-1"></i> Playlist
                    </button>
                </div>
                <!-- Playlist responsive toggler END -->
            </div>
        </div>
    </section>
    <!-- =======================
    Page banner video END -->

    <!-- =======================
    Page content START -->
    <section class="pt-0">
        <div class="container">
            <div class="row g-lg-5">

                <!-- Main content START -->
                <div class="col-lg-8">
                    <div class="row g-4">

                        <!-- Course title START -->
                        <div class="col-12">
                            <!-- Title -->
                            <h1 th:text="${currentLesson.title}">The Complete Digital Marketing Course - 12 Courses in
                                1</h1>

                        </div>
                        <!-- Course title END -->

                        <!-- Instructor detail START -->
                        <div class="col-12">
                            <div class="d-sm-flex justify-content-sm-between align-items-center">
                                <!-- Avatar detail -->
                                <div class="d-flex align-items-center">
                                    <!-- Avatar image -->
                                    <div class="avatar avatar-lg">
                                        <img class="avatar-img rounded-circle" src="/assets/images/avatar/05.jpg"
                                             alt="avatar">
                                    </div>
                                    <div class="ms-3">
                                        <h6 class="mb-0"><a href="#" th:text="${course.instructor.fullName}">By Jacqueline Miller</a></h6>
                                        <p class="mb-0 small" th:text="${course.instructor.personalSkill}">Founder Eduport company</p>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <!-- Instructor detail END -->

                        <!-- Course detail START -->
                        <div class="col-12">
                            <!-- Tabs START -->
                            <ul class="nav nav-pills nav-pills-bg-soft px-3" id="course-pills-tab" role="tablist">
                                <!-- Tab item -->
                                <li class="nav-item me-2 me-sm-4" role="presentation">
                                    <button class="nav-link mb-0 active" id="course-pills-tab-1" data-bs-toggle="pill"
                                            data-bs-target="#course-pills-1" type="button" role="tab"
                                            aria-controls="course-pills-1" aria-selected="true">Overview
                                    </button>
                                </li>
                                <!-- Tab item -->
                                <li class="nav-item me-2 me-sm-4" role="presentation">
                                    <button class="nav-link mb-0" id="course-pills-tab-2" data-bs-toggle="pill"
                                            data-bs-target="#course-pills-2" type="button" role="tab"
                                            aria-controls="course-pills-2" aria-selected="false">Reviews
                                    </button>
                                </li>
                                <!-- Tab item -->
                                <li class="nav-item me-2 me-sm-4" role="presentation">
                                    <button class="nav-link mb-0" id="course-pills-tab-3" data-bs-toggle="pill"
                                            data-bs-target="#course-pills-3" type="button" role="tab"
                                            aria-controls="course-pills-3" aria-selected="false">report
                                    </button>
                                </li>
                                <!-- Tab item -->
                                <li class="nav-item me-2 me-sm-4" role="presentation">
                                    <button class="nav-link mb-0" id="course-pills-tab-4" data-bs-toggle="pill"
                                            data-bs-target="#course-pills-4" type="button" role="tab"
                                            aria-controls="course-pills-4" aria-selected="false">Comment
                                    </button>
                                </li>
                            </ul>
                            <!-- Tabs END -->

                            <!-- Tab contents START -->
                            <div class="tab-content pt-4 px-3" id="course-pills-tabContent">
                                <!-- Content START -->
                                <div class="tab-pane fade show active" id="course-pills-1" role="tabpanel"
                                     aria-labelledby="course-pills-tab-1">
                                    <!-- Course detail START -->
                                    <h5 class="mb-3">Course Description</h5>
                                    <p class="mb-3">Welcome to the <strong> Digital Marketing Ultimate Course Bundle -
                                        12 Courses in 1 (Over 36 hours of content)</strong></p>
                                    <p class="mb-3">In this practical hands-on training, you're going to learn to become
                                        a digital marketing expert with this <strong> ultimate course bundle that
                                            includes 12 digital marketing courses in 1!</strong></p>
                                    <p class="mb-3">If you wish to find out the skills that should be covered in a basic
                                        digital marketing course syllabus in India or anywhere around the world, then
                                        reading this blog will help. Before we delve into the advanced <strong><a
                                                href="#" class="text-reset text-decoration-underline">digital marketing
                                            course</a></strong> syllabus, let's look at the scope of digital marketing
                                        and what the future holds.</p>
                                    <p class="mb-0">We focus a great deal on the understanding of behavioral psychology
                                        and influence triggers which are crucial for becoming a well rounded Digital
                                        Marketer. We understand that theory is important to build a solid foundation, we
                                        understand that theory alone isn't going to get the job done so that's why this
                                        course is packed with practical hands-on examples that you can follow step by
                                        step.</p>

                                    <!-- List content -->
                                    <h5 class="mt-4">What you'll learn</h5>

                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <ul class="list-group list-group-borderless">
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Digital
                                                    marketing course introduction
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Customer Life
                                                    cycle
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>What is Search
                                                    engine optimization(SEO)
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Facebook ADS
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Facebook
                                                    Messenger Chatbot
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Search engine
                                                    optimization tools
                                                </li>
                                            </ul>
                                        </div>

                                        <div class="col-md-6">
                                            <ul class="list-group list-group-borderless">
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Why SEO
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>URL Structure
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Featured
                                                    Snippet
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>SEO tips and
                                                    tricks
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Google tag
                                                    manager
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <p class="mb-0">As it so contrasted oh estimating instrument. Size like body someone
                                        had. Are conduct viewing boy minutes warrant the expense? Tolerably behavior may
                                        admit daughters offending her ask own. Praise effect wishes change way and any
                                        wanted. Lively use looked latter regard had. Do he it part more last in. </p>
                                    <!-- Course detail END -->

                                </div>
                                <!-- Content END -->

                                <!-- Content START -->
                                <div class="tab-pane fade" id="course-pills-2" role="tabpanel"
                                     aria-labelledby="course-pills-tab-2">
                                    <!-- Review START -->
                                    <div class="row mb-4">
                                        <h5 class="mb-4">Our Student Reviews</h5>

                                        <!-- Rating info -->
                                        <div class="col-md-4 mb-3 mb-md-0">
                                            <div class="text-center">
                                                <!-- Info -->
                                                <h2 class="mb-0">4.5</h2>
                                                <!-- Star -->
                                                <ul class="list-inline mb-0">
                                                    <li class="list-inline-item me-0"><i
                                                            class="fas fa-star text-warning"></i></li>
                                                    <li class="list-inline-item me-0"><i
                                                            class="fas fa-star text-warning"></i></li>
                                                    <li class="list-inline-item me-0"><i
                                                            class="fas fa-star text-warning"></i></li>
                                                    <li class="list-inline-item me-0"><i
                                                            class="fas fa-star text-warning"></i></li>
                                                    <li class="list-inline-item me-0"><i
                                                            class="fas fa-star-half-alt text-warning"></i></li>
                                                </ul>
                                                <p class="mb-0">(Based on todays review)</p>
                                            </div>
                                        </div>

                                        <!-- Progress-bar and star -->
                                        <div class="col-md-8">
                                            <div class="row align-items-center text-center">
                                                <!-- Progress bar and Rating -->
                                                <div class="col-6 col-sm-8">
                                                    <!-- Progress item -->
                                                    <div class="progress progress-sm bg-warning bg-opacity-15">
                                                        <div class="progress-bar bg-warning" role="progressbar"
                                                             style="width: 100%" aria-valuenow="100" aria-valuemin="0"
                                                             aria-valuemax="100">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-6 col-sm-4">
                                                    <!-- Star item -->
                                                    <ul class="list-inline mb-0">
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                    </ul>
                                                </div>

                                                <!-- Progress bar and Rating -->
                                                <div class="col-6 col-sm-8">
                                                    <!-- Progress item -->
                                                    <div class="progress progress-sm bg-warning bg-opacity-15">
                                                        <div class="progress-bar bg-warning" role="progressbar"
                                                             style="width: 80%" aria-valuenow="80" aria-valuemin="0"
                                                             aria-valuemax="100">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-6 col-sm-4">
                                                    <!-- Star item -->
                                                    <ul class="list-inline mb-0">
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                    </ul>
                                                </div>

                                                <!-- Progress bar and Rating -->
                                                <div class="col-6 col-sm-8">
                                                    <!-- Progress item -->
                                                    <div class="progress progress-sm bg-warning bg-opacity-15">
                                                        <div class="progress-bar bg-warning" role="progressbar"
                                                             style="width: 60%" aria-valuenow="60" aria-valuemin="0"
                                                             aria-valuemax="100">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-6 col-sm-4">
                                                    <!-- Star item -->
                                                    <ul class="list-inline mb-0">
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                    </ul>
                                                </div>

                                                <!-- Progress bar and Rating -->
                                                <div class="col-6 col-sm-8">
                                                    <!-- Progress item -->
                                                    <div class="progress progress-sm bg-warning bg-opacity-15">
                                                        <div class="progress-bar bg-warning" role="progressbar"
                                                             style="width: 40%" aria-valuenow="40" aria-valuemin="0"
                                                             aria-valuemax="100">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-6 col-sm-4">
                                                    <!-- Star item -->
                                                    <ul class="list-inline mb-0">
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                    </ul>
                                                </div>

                                                <!-- Progress bar and Rating -->
                                                <div class="col-6 col-sm-8">
                                                    <!-- Progress item -->
                                                    <div class="progress progress-sm bg-warning bg-opacity-15">
                                                        <div class="progress-bar bg-warning" role="progressbar"
                                                             style="width: 20%" aria-valuenow="20" aria-valuemin="0"
                                                             aria-valuemax="100">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-6 col-sm-4">
                                                    <!-- Star item -->
                                                    <ul class="list-inline mb-0">
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0 small"><i
                                                                class="far fa-star text-warning"></i></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Review END -->

                                    <!-- Student review START -->
                                    <div class="row">
                                        <!-- Review item START -->
                                        <div class="d-md-flex my-4">
                                            <!-- Avatar -->
                                            <div class="avatar avatar-xl me-4 flex-shrink-0">
                                                <img class="avatar-img rounded-circle"
                                                     src="/assets/images/avatar/09.jpg"
                                                     alt="avatar">
                                            </div>
                                            <!-- Text -->
                                            <div>
                                                <div class="d-sm-flex mt-1 mt-md-0 align-items-center">
                                                    <h5 class="me-3 mb-0">Jacqueline Miller</h5>
                                                    <!-- Review star -->
                                                    <ul class="list-inline mb-0">
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="far fa-star text-warning"></i></li>
                                                    </ul>
                                                </div>
                                                <!-- Info -->
                                                <p class="small mb-2">2 days ago</p>
                                                <p class="mb-2">Perceived end knowledge certainly day sweetness why
                                                    cordially. Ask a quick six seven offer see among. Handsome met
                                                    debating sir dwelling age material. As style lived he worse dried.
                                                    Offered related so visitors we private removed. Moderate do subjects
                                                    to distance. </p>

                                                <!-- Reply button -->
                                                <a href="#" class="text-body mb-0"><i class="fas fa-reply me-2"></i>Reply</a>
                                            </div>
                                        </div>
                                        <!-- Divider -->
                                        <hr>
                                        <!-- Review item END -->

                                        <!-- Review item START -->
                                        <div class="d-md-flex my-4">
                                            <!-- Avatar -->
                                            <div class="avatar avatar-xl me-4 flex-shrink-0">
                                                <img class="avatar-img rounded-circle"
                                                     src="/assets/images/avatar/07.jpg"
                                                     alt="avatar">
                                            </div>
                                            <!-- Text -->
                                            <div>
                                                <div class="d-sm-flex mt-1 mt-md-0 align-items-center">
                                                    <h5 class="me-3 mb-0">Dennis Barrett</h5>
                                                    <!-- Review star -->
                                                    <ul class="list-inline mb-0">
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="fas fa-star text-warning"></i></li>
                                                        <li class="list-inline-item me-0"><i
                                                                class="far fa-star text-warning"></i></li>
                                                    </ul>
                                                </div>
                                                <!-- Info -->
                                                <p class="small mb-2">2 days ago</p>
                                                <p class="mb-2">Handsome met debating sir dwelling age material. As
                                                    style lived he worse dried. Offered related so visitors we private
                                                    removed. Moderate do subjects to distance. </p>
                                                <!-- Reply button -->
                                                <a href="#" class="text-body mb-0"><i class="fas fa-reply me-2"></i>Reply</a>
                                            </div>
                                        </div>
                                        <!-- Review item END -->
                                        <!-- Divider -->
                                        <hr>
                                    </div>
                                    <!-- Student review END -->

                                    <!-- Leave Review START -->
                                    <div class="mt-2">
                                        <h5 class="mb-4">Leave a Review</h5>
                                        <form class="row g-3">
                                            <!-- Name -->
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" id="inputtext"
                                                       placeholder="Name" aria-label="First name">
                                            </div>
                                            <!-- Email -->
                                            <div class="col-md-6">
                                                <input type="email" class="form-control" placeholder="Email"
                                                       id="inputEmail4">
                                            </div>
                                            <!-- Rating -->
                                            <div class="col-12">
                                                <select id="inputState2" class="form-select  js-choice">
                                                    <option selected="">★★★★★ (5/5)</option>
                                                    <option>★★★★☆ (4/5)</option>
                                                    <option>★★★☆☆ (3/5)</option>
                                                    <option>★★☆☆☆ (2/5)</option>
                                                    <option>★☆☆☆☆ (1/5)</option>
                                                </select>
                                            </div>
                                            <!-- Message -->
                                            <div class="col-12">
                                                <textarea class="form-control" id="exampleFormControlTextarea1"
                                                          placeholder="Your review" rows="3"></textarea>
                                            </div>
                                            <!-- Button -->
                                            <div class="col-12">
                                                <button type="submit" class="btn btn-primary mb-0">Post Review</button>
                                            </div>
                                        </form>
                                    </div>
                                    <!-- Leave Review END -->

                                </div>
                                <!-- Content END -->

                                <!-- Content START -->
                                <div class="tab-pane fade" id="course-pills-3" role="tabpanel"
                                     aria-labelledby="course-pills-tab-3">
                                    <!-- Report Course Form START -->
                                    <div class="card">
                                        <div class="card-header">
                                            <h5 class="mb-0">Báo Cáo Khóa Học</h5>
                                        </div>
                                        <div class="card-body">
                                            <form th:action="@{/course/{courseId}/report(courseId=${course.courseId})}" method="post">
                                                <div class="mb-3">
                                                    <p class="mb-2">Vui lòng chọn lý do báo cáo khóa học này:</p>
                                                    <div class="form-check mb-2">
                                                        <input class="form-check-input" type="radio" id="reason1" name="reason" value="Inappropriate content" required>
                                                        <label class="form-check-label" for="reason1">Nội dung không phù hợp</label>
                                                    </div>
                                                    <div class="form-check mb-2">
                                                        <input class="form-check-input" type="radio" id="reason2" name="reason" value="Copyright violation" required>
                                                        <label class="form-check-label" for="reason2">Vi phạm bản quyền</label>
                                                    </div>
                                                    <div class="form-check mb-2">
                                                        <input class="form-check-input" type="radio" id="reason3" name="reason" value="Misleading information" required>
                                                        <label class="form-check-label" for="reason3">Thông tin sai lệch</label>
                                                    </div>
                                                    <div class="form-check mb-2">
                                                        <input class="form-check-input" type="radio" id="reason4" name="reason" value="Poor quality content" required>
                                                        <label class="form-check-label" for="reason4">Nội dung chất lượng kém</label>
                                                    </div>
                                                    <div class="form-check mb-3">
                                                        <input class="form-check-input" type="radio" id="reasonOther" name="reason" value="Other" required>
                                                        <label class="form-check-label" for="reasonOther">Lý do khác (vui lòng ghi rõ):</label>
                                                    </div>
                                                    <div class="mb-3">
                                                        <input type="text" class="form-control" id="otherReasonText" name="otherReason" placeholder="Nhập lý do của bạn tại đây" disabled>
                                                    </div>
                                                </div>
                                                <button type="submit" class="btn btn-danger">Gửi Báo Cáo</button>
                                            </form>
                                        </div>
                                    </div>
                                    <!-- Report Course Form END -->
                                </div>

                                <!-- Content START -->
                                <div class="tab-pane fade" id="course-pills-4" role="tabpanel"
                                     aria-labelledby="course-pills-tab-4">
                                    <!-- Comment Section START -->
                                    <div class="comment-section">
                                        <!-- Comment Form -->
                                        <div class="d-flex mb-4">
                                            <div class="avatar avatar-sm flex-shrink-0 me-2">
                                                <img class="avatar-img rounded-circle" th:if="${user != null and !#strings.isEmpty(user.profilePicture)}" th:src="${user.profilePicture}" th:alt="${user.fullName}" />
                                                <img class="avatar-img rounded-circle" th:if="${user == null or #strings.isEmpty(user.profilePicture)}" th:src="@{/assets/images/avatar/default.jpg}" alt="Người dùng" />
                                            </div>
                                            <form id="commentForm" class="w-100 d-flex">
                                                <input type="hidden" name="courseId" th:value="${course.courseId}" />
                                                <div class="flex-grow-1 me-2">
                                                    <textarea class="form-control pe-4 bg-light" name="comment" rows="1" placeholder="Thêm bình luận..." required th:disabled="${user == null}"></textarea>
                                                </div>
                                                <button class="btn btn-primary mb-0" type="submit" th:disabled="${user == null}">Đăng</button>
                                            </form>
                                        </div>
                                        <div th:if="${user == null}" class="mb-3">
                                            <div class="alert alert-warning py-2 px-3 mb-0">Vui lòng <a th:href="@{/login}" class="alert-link">đăng nhập</a> để bình luận.</div>
                                        </div>

                                        <!-- Comment Message -->
                                        <div id="commentMessage"></div>

                                        <!-- Comments List -->
                                        <div id="commentsList">
                                            <div th:if="${#lists.isEmpty(reviews)}" class="text-center py-4">
                                                <i class="fas fa-comments fa-3x text-muted mb-3"></i>
                                                <p class="text-muted mb-0">Chưa có bình luận nào. Hãy là người đầu tiên bình luận!</p>
                                            </div>
                                            <div th:each="review : ${reviews}">
                                                <div class="d-md-flex my-4">
                                                    <div class="avatar avatar-xl me-4 flex-shrink-0">
                                                        <img class="avatar-img rounded-circle" th:if="${review.user != null and !#strings.isEmpty(review.user.profilePicture)}" th:src="${review.user.profilePicture}" th:alt="${review.user.fullName}" />
                                                        <img class="avatar-img rounded-circle" th:if="${review.user == null or #strings.isEmpty(review.user.profilePicture)}" th:src="@{/assets/images/avatar/default.jpg}" alt="Người dùng" />
                                                    </div>
                                                    <div>
                                                        <div class="d-sm-flex mt-1 mt-md-0 align-items-center">
                                                            <h5 class="me-3 mb-0" th:text="${review.user.fullName}">User Name</h5>
                                                            <small class="ms-2" th:text="${#temporals.format(review.createdAt, 'dd/MM/yyyy HH:mm')}">Thời gian</small>
                                                        </div>
                                                        <p class="mb-2" th:text="${review.comment}">Nội dung bình luận</p>
                                                        
                                                        <!-- Comment actions -->
                                                        <ul class="nav nav-divider py-2 small">
                                                            <li class="nav-item">
                                                                <a class="text-success-hover show-reply-form" href="#" th:data-review-id="${review.reviewId}">Trả lời</a>
                                                            </li>
                                                            <li class="nav-item" th:if="${user != null and user.userId == review.user.userId}">
                                                                <button class="btn btn-link text-primary p-0 edit-comment-btn"
                                                                        th:data-review-id="${review.reviewId}"
                                                                        th:data-comment="${review.comment}">
                                                                    Sửa
                                                                </button>
                                                            </li>
                                                            <li class="nav-item" th:if="${user != null and user.userId == review.user.userId}">
                                                                <button class="btn btn-link text-danger p-0 delete-comment-btn"
                                                                        th:data-review-id="${review.reviewId}"
                                                                        th:data-course-id="${course.courseId}">
                                                                    Xóa
                                                                </button>
                                                            </li>
                                                            <li class="nav-item">
                                                                <button type="button"
                                                                        class="btn btn-link text-danger p-0 report-comment-btn-modal"
                                                                        th:data-course-id="${course.courseId}"
                                                                        th:data-comment-id="${review.reviewId}"
                                                                        th:if="${user != null and user.userId != review.user.userId}">
                                                                    Báo cáo
                                                                </button>
                                                            </li>
                                                        </ul>

                                                        <!-- Edit form (initially hidden) -->
                                                        <div th:id="'edit-form-' + ${review.reviewId}" style="display:none; margin-top: 10px;">
                                                            <form class="edit-comment-ajax-form">
                                                                <input type="hidden" name="reviewId" th:value="${review.reviewId}"/>
                                                                <input type="hidden" name="courseId" th:value="${course.courseId}"/>
                                                                <textarea name="comment" required class="form-control mb-2" placeholder="Nhập nội dung bình luận..." th:text="${review.comment}"></textarea>
                                                                <div class="d-flex gap-2">
                                                                    <button type="submit" class="btn btn-primary btn-sm">Cập nhật</button>
                                                                    <button type="button" class="btn btn-secondary btn-sm cancel-edit-btn" th:data-review-id="${review.reviewId}">Hủy</button>
                                                                </div>
                                                            </form>
                                                        </div>

                                                        <!-- Reply form (initially hidden) -->
                                                        <div th:id="'reply-form-' + ${review.reviewId}" style="display:none; margin-top: 10px;">
                                                            <form class="reply-comment-ajax-form">
                                                                <input type="hidden" name="parentId" th:value="${review.reviewId}"/>
                                                                <input type="hidden" name="courseId" th:value="${course.courseId}"/>
                                                                <textarea name="comment" required class="form-control mb-2" placeholder="Nhập nội dung trả lời..."></textarea>
                                                                <div class="d-flex gap-2">
                                                                    <button type="submit" class="btn btn-primary btn-sm">Gửi</button>
                                                                    <button type="button" class="btn btn-secondary btn-sm hide-reply-form" th:data-review-id="${review.reviewId}">Hủy</button>
                                                                </div>
                                                            </form>
                                                        </div>

                                                        <!-- Replies -->
                                                        <div th:if="${not #lists.isEmpty(review.children)}" class="ms-4 mt-3">
                                                            <div th:each="reply : ${review.children}" class="d-flex mb-3">
                                                                <div class="avatar avatar-xs flex-shrink-0 me-2">
                                                                    <img class="avatar-img rounded-circle"
                                                                         th:src="${reply.user.profilePicture != null and reply.user.profilePicture != ''} ? ${reply.user.profilePicture} : @{/assets/images/avatar/default.jpg}"
                                                                         th:alt="${reply.user.fullName}">
                                                                </div>
                                                                <div class="w-100">
                                                                    <div class="d-flex justify-content-between">
                                                                        <h6 class="mb-1" th:text="${reply.user.fullName}">Người trả lời</h6>
                                                                        <small class="ms-2" th:text="${#temporals.format(reply.createdAt, 'dd/MM/yyyy HH:mm')}">Thời gian trả lời</small>
                                                                    </div>
                                                                    <p class="mb-1" th:text="${reply.comment}">Nội dung trả lời</p>
                                                                    
                                                                    <!-- Reply actions -->
                                                                    <ul class="nav nav-divider py-2 small">
                                                                        <li class="nav-item" th:if="${user != null and user.userId == reply.user.userId}">
                                                                            <button class="btn btn-link text-primary p-0 edit-comment-btn"
                                                                                    th:data-review-id="${reply.reviewId}"
                                                                                    th:data-comment="${reply.comment}">
                                                                                Sửa
                                                                            </button>
                                                                        </li>
                                                                        <li class="nav-item" th:if="${user != null and user.userId == reply.user.userId}">
                                                                            <button class="btn btn-link text-danger p-0 delete-comment-btn"
                                                                                    th:data-review-id="${reply.reviewId}"
                                                                                    th:data-course-id="${course.courseId}">
                                                                                Xóa
                                                                            </button>
                                                                        </li>
                                                                        <li class="nav-item">
                                                                            <button type="button"
                                                                                    class="btn btn-link text-danger p-0 report-comment-btn-modal"
                                                                                    th:data-course-id="${course.courseId}"
                                                                                    th:data-comment-id="${reply.reviewId}"
                                                                                    th:if="${user != null and user.userId != reply.user.userId}">
                                                                                Báo cáo
                                                                            </button>
                                                                        </li>
                                                                    </ul>

                                                                    <!-- Edit form for reply (initially hidden) -->
                                                                    <div th:id="'edit-form-' + ${reply.reviewId}" style="display:none; margin-top: 10px;">
                                                                        <form class="edit-comment-ajax-form">
                                                                            <input type="hidden" name="reviewId" th:value="${reply.reviewId}"/>
                                                                            <input type="hidden" name="courseId" th:value="${course.courseId}"/>
                                                                            <textarea name="comment" required class="form-control mb-2" placeholder="Nhập nội dung bình luận..." th:text="${reply.comment}"></textarea>
                                                                            <div class="d-flex gap-2">
                                                                                <button type="submit" class="btn btn-primary btn-sm">Cập nhật</button>
                                                                                <button type="button" class="btn btn-secondary btn-sm cancel-edit-btn" th:data-review-id="${reply.reviewId}">Hủy</button>
                                                                            </div>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Comment Section END -->
                                </div>
                                <!-- Content END -->
                            </div>
                            <!-- Tab contents END -->
                        </div>
                        <!-- Course detail END -->
                    </div>
                </div>
                <!-- Main content END -->

                <!-- Right sidebar START -->
                <div class="col-lg-4">
                    <!-- Responsive offcanvas body START -->
                    <div class="offcanvas-lg offcanvas-end" tabindex="-1" id="offcanvasSidebar"
                         aria-labelledby="offcanvasSidebarLabel">
                        <div class="offcanvas-header bg-dark">
                            <h5 class="offcanvas-title text-white" id="offcanvasSidebarLabel">Course playlist</h5>
                            <button type="button" class="btn btn-sm btn-light mb-0" data-bs-dismiss="offcanvas"
                                    data-bs-target="#offcanvasSidebar" aria-label="Close"><i class="bi bi-x-lg"></i>
                            </button>
                        </div>
                        <div class="offcanvas-body p-3 p-lg-0">
                            <div class="col-12">
                                <!-- Accordion START -->
                                <div class="accordion accordion-icon accordion-bg-light" id="accordionExample2">
                                    <!-- Item -->
                                    <div class="accordion-item mb-3" th:each="chapter, interStat : ${chapters}">
                                        <h6 class="accordion-header font-base" th:id="'heading-' + ${interStat.index}">
                                            <a class="accordion-button fw-bold rounded collapsed d-block"
                                               th:href="'#collapse-' + ${interStat.index}"
                                               data-bs-toggle="collapse"
                                               th:data-bs-target="'#collapse-' + ${interStat.index}"
                                               aria-expanded="false"
                                               th:aria-controls="'collapse-' + ${interStat.index}">
                                                <span class="mb-0" th:text="${chapter.title}">Introduction of Digital Marketing</span>
                                                <span class="small d-block mt-1"
                                                      th:text="${chapter.lessons.size() + ' lecture' + (chapter.lessons.size() > 1 ? 's' : '')}">(3 Lectures)</span>
                                            </a>
                                        </h6>
                                        <div th:id="'collapse-' + ${interStat.index}"
                                             class="accordion-collapse collapse"
                                             th:classappend="${chapter.lessons.?[lessonId == __${currentLessonId}__].size() > 0} ? 'show' : ''"
                                             th:aria-labelledby="'heading-' + ${interStat.index}"
                                             data-bs-parent="#accordionExample2">
                                            <div class="accordion-body mt-3">
                                                <div class="vstack gap-3">

                                                    <!-- Progress bar -->
                                                    <div class="overflow-hidden">
                                                        <div class="d-flex justify-content-between">
                                                            <p class="mb-1 h6">1/3 Completed</p>
                                                            <h6 class="mb-1 text-end">30%</h6>
                                                        </div>
                                                        <div class="progress progress-sm bg-primary bg-opacity-10">
                                                            <div class="progress-bar bg-primary aos"
                                                                 role="progressbar" data-aos="slide-right"
                                                                 data-aos-delay="200" data-aos-duration="1000"
                                                                 data-aos-easing="ease-in-out" style="width: 30%"
                                                                 aria-valuenow="30" aria-valuemin="0"
                                                                 aria-valuemax="100">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Course lecture -->
                                                    <div th:each="lesson : ${chapter.lessons}"
                                                         th:classappend="${lesson.lessonId == currentLessonId} ? 'p-2 bg-success bg-opacity-10 rounded-3' : ''"
                                                         class="d-flex justify-content-between align-items-center mb-2">

                                                        <div class="position-relative d-flex align-items-center">

                                                            <!-- Nếu bài có thể truy cập (đã học hoặc có thể học) -->
                                                            <a th:if="${accessibleLessonIds.contains(lesson.lessonId)}"
                                                               th:href="@{/learning/course/{courseId}/lesson/{lessonId}(courseId=${course.courseId}, lessonId=${lesson.lessonId})}"
                                                               th:class="${lesson.lessonId == currentLessonId} ? 'btn btn-warning btn-round btn-sm mb-0 stretched-link position-static' :
                     (${completedLessonIds.contains(lesson.lessonId)} ? 'btn btn-success btn-round btn-sm mb-0 stretched-link position-static' : 'btn btn-primary btn-round btn-sm mb-0 stretched-link position-static')">
                                                                <i th:class="${lesson.lessonId == currentLessonId} ? 'fas fa-play me-0' :
                         (${completedLessonIds.contains(lesson.lessonId)} ? 'fas fa-check me-0' : 'fas fa-play me-0')"></i>
                                                            </a>

                                                            <!-- Nếu bài bị khóa -->
                                                            <button th:if="${!accessibleLessonIds.contains(lesson.lessonId)}"
                                                                    class="btn btn-secondary btn-round btn-sm mb-0 position-static"
                                                                    disabled>
                                                                <i class="fas fa-lock me-0"></i>
                                                            </button>

                                                            <!-- Tiêu đề bài -->
                                                            <span class="d-inline-block text-truncate ms-2 mb-0 h6 fw-light w-200px"
                                                                  th:class="${lesson.lessonId == currentLessonId} ? 'fw-bold' : 'fw-light'"
                                                                  th:text="${lesson.title}">Tên bài học</span>
                                                        </div>

                                                        <div class="text-end">
                                                            <!-- Hiển thị trạng thái -->
                                                            <p class="mb-0 text-truncate"
                                                               th:if="${lesson.lessonId == currentLessonId}">
            <span class="badge bg-warning text-dark">
                <i class="fas fa-play me-1"></i>Playing
            </span>
                                                            </p>
                                                            <p class="mb-0 text-truncate"
                                                               th:if="${completedLessonIds.contains(lesson.lessonId) and lesson.lessonId != currentLessonId}">
            <span class="badge bg-success">
                <i class="fas fa-check me-1"></i>Completed
            </span>
                                                            </p>
                                                            <p class="mb-0 text-truncate"
                                                               th:if="${!completedLessonIds.contains(lesson.lessonId) and lesson.lessonId != currentLessonId and accessibleLessonIds.contains(lesson.lessonId)}">
            <span class="text-primary fw-bold">
                <i class="fas fa-clock me-1"></i>
                <span th:text="${lesson.duration / 60} + ' min'"></span>
            </span>
                                                            </p>
                                                            <p class="mb-0 text-truncate"
                                                               th:if="${!accessibleLessonIds.contains(lesson.lessonId)}">
            <span class="text-muted">
                <i class="fas fa-lock me-1"></i>
                <span th:text="${lesson.duration / 60} + ' min'"></span>
            </span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Accordion END -->
                            </div>
                        </div>
                    </div>
                    <!-- Responsive offcanvas body END -->

                    <!-- Tags START -->
                    <div class="mt-4">
                        <h4 class="mb-3">Tags</h4>
                        <ul class="list-inline mb-0">
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">blog</a></li>
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">business</a>
                            </li>
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">theme</a></li>
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">bootstrap</a>
                            </li>
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">data
                                science</a></li>
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">web
                                development</a></li>
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">tips</a></li>
                            <li class="list-inline-item"><a class="btn btn-outline-light btn-sm" href="#">machine
                                learning</a></li>
                        </ul>
                    </div>
                    <!-- Tags END -->
                </div>
                <!-- Right sidebar END -->

            </div><!-- Row END -->
        </div>
    </section>
    <!-- =======================
    Page content END -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
Footer START -->
<footer class="pt-5 bg-light">
    <div class="container">
        <!-- Row START -->
        <div class="row g-4">

            <!-- Widget 1 START -->
            <div class="col-lg-3">
                <!-- logo -->
                <a class="me-0" th:href="@{/home}">
                    <img class="light-mode-item h-40px" src="/assets/images/logo.svg" alt="logo">
                    <img class="dark-mode-item h-40px" src="/assets/images/logo-light.svg" alt="logo">
                </a>
                <p class="my-3">Eduport education theme, built specifically for the education centers which is dedicated
                    to teaching and involve learners. </p>
                <!-- Social media icon -->
                <ul class="list-inline mb-0 mt-3">
                    <li class="list-inline-item"><a class="btn btn-white btn-sm shadow px-2 text-facebook" href="#"><i
                            class="fab fa-fw fa-facebook-f"></i></a></li>
                    <li class="list-inline-item"><a class="btn btn-white btn-sm shadow px-2 text-instagram" href="#"><i
                            class="fab fa-fw fa-instagram"></i></a></li>
                    <li class="list-inline-item"><a class="btn btn-white btn-sm shadow px-2 text-twitter" href="#"><i
                            class="fab fa-fw fa-twitter"></i></a></li>
                    <li class="list-inline-item"><a class="btn btn-white btn-sm shadow px-2 text-linkedin" href="#"><i
                            class="fab fa-fw fa-linkedin-in"></i></a></li>
                </ul>
            </div>
            <!-- Widget 1 END -->

            <!-- Widget 2 START -->
            <div class="col-lg-6">
                <div class="row g-4">
                    <!-- Link block -->
                    <div class="col-6 col-md-4">
                        <h5 class="mb-2 mb-md-4">Company</h5>
                        <ul class="nav flex-column">
                            <li class="nav-item"><a class="nav-link" href="#">About us</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Contact us</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">News and Blogs</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Library</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Career</a></li>
                        </ul>
                    </div>

                    <!-- Link block -->
                    <div class="col-6 col-md-4">
                        <h5 class="mb-2 mb-md-4">Community</h5>
                        <ul class="nav flex-column">
                            <li class="nav-item"><a class="nav-link" href="#">Documentation</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Faq</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Forum</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Sitemap</a></li>
                        </ul>
                    </div>

                    <!-- Link block -->
                    <div class="col-6 col-md-4">
                        <h5 class="mb-2 mb-md-4">Teaching</h5>
                        <ul class="nav flex-column">
                            <li class="nav-item"><a class="nav-link" href="#">Become a teacher</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">How to guide</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Terms &amp; Conditions</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Widget 2 END -->

            <!-- Widget 3 START -->
            <div class="col-lg-3">
                <h5 class="mb-2 mb-md-4">Contact</h5>
                <!-- Time -->
                <p class="mb-2">
                    Toll free:<span class="h6 fw-light ms-2">+1234 568 963</span>
                    <span class="d-block small">(9:AM to 8:PM IST)</span>
                </p>

                <p class="mb-0">Email:<span class="h6 fw-light ms-2">example@gmail.com</span></p>

                <div class="row g-2 mt-2">
                    <!-- Google play store button -->
                    <div class="col-6 col-sm-4 col-md-3 col-lg-6">
                        <a href="#"> <img src="/assets/images/client/google-play.svg" alt=""> </a>
                    </div>
                    <!-- App store button -->
                    <div class="col-6 col-sm-4 col-md-3 col-lg-6">
                        <a href="#"> <img src="/assets/images/client/app-store.svg" alt="app-store"> </a>
                    </div>
                </div> <!-- Row END -->
            </div>
            <!-- Widget 3 END -->
        </div><!-- Row END -->

        <!-- Divider -->
        <hr class="mt-4 mb-0">

        <!-- Bottom footer -->
        <div class="py-3">
            <div class="container px-0">
                <div class="d-lg-flex justify-content-between align-items-center py-3 text-center text-md-left">
                    <!-- copyright text -->
                    <div class="text-body text-primary-hover"> Copyrights ©2024 Eduport. Build by <a
                            href="https://www.stackbros.in/" target="_blank" class="text-body">StackBros</a></div>
                    <!-- copyright links-->
                    <div class="justify-content-center mt-3 mt-lg-0">
                        <ul class="nav list-inline justify-content-center mb-0">
                            <li class="list-inline-item">
                                <!-- Language selector -->
                                <div class="dropup mt-0 text-center text-sm-end">
                                    <a class="dropdown-toggle nav-link" href="#" role="button" id="languageSwitcher"
                                       data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-globe me-2"></i>Language
                                    </a>
                                    <ul class="dropdown-menu min-w-auto" aria-labelledby="languageSwitcher">
                                        <li><a class="dropdown-item me-4" href="#"><img class="fa-fw me-2"
                                                                                        src="/assets/images/flags/uk.svg"
                                                                                        alt="">English</a></li>
                                        <li><a class="dropdown-item me-4" href="#"><img class="fa-fw me-2"
                                                                                        src="/assets/images/flags/gr.svg"
                                                                                        alt="">German </a></li>
                                        <li><a class="dropdown-item me-4" href="#"><img class="fa-fw me-2"
                                                                                        src="/assets/images/flags/sp.svg"
                                                                                        alt="">French</a></li>
                                    </ul>
                                </div>
                            </li>
                            <li class="list-inline-item"><a class="nav-link" href="#">Terms of use</a></li>
                            <li class="list-inline-item"><a class="nav-link pe-0" href="#">Privacy policy</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- =======================
Footer END -->

<!-- Modal START -->
<div class="modal fade" id="coursePremium" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header border-0 bg-transparent">
                <!-- Close button -->
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <!-- Modal body -->
            <div class="modal-body px-5 pb-5 position-relative overflow-hidden">

                <!-- Element -->
                <figure class="position-absolute bottom-0 end-0 mb-n4 me-n4 d-none d-sm-block">
                    <img src="/assets/images/element/01.svg" alt="element">
                </figure>
                <figure class="position-absolute top-0 end-0 z-index-n1 opacity-2">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="818.6px"
                         height="235.1px" viewBox="0 0 818.6 235.1">
                        <path class="fill-info"
                              d="M735,226.3c-5.7,0.6-11.5,1.1-17.2,1.7c-66.2,6.8-134.7,13.7-192.6-16.6c-34.6-18.1-61.4-47.9-87.3-76.7 c-21.4-23.8-43.6-48.5-70.2-66.7c-53.2-36.4-121.6-44.8-175.1-48c-13.6-0.8-27.5-1.4-40.9-1.9c-46.9-1.9-95.4-3.9-141.2-16.5 C8.3,1.2,6.2,0.6,4.2,0H0c3.3,1,6.6,2,10,3c46,12.5,94.5,14.6,141.5,16.5c13.4,0.6,27.3,1.1,40.8,1.9 c53.4,3.2,121.5,11.5,174.5,47.7c26.5,18.1,48.6,42.7,70,66.5c26,28.9,52.9,58.8,87.7,76.9c58.3,30.5,127,23.5,193.3,16.7 c5.8-0.6,11.5-1.2,17.2-1.7c26.2-2.6,55-4.2,83.5-2.2v-1.2C790,222,761.2,223.7,735,226.3z"></path>
                    </svg>
                </figure>
                <!-- Title -->
                <h2>Get Premium Course in <span class="text-success">$800</span></h2>
                <p>Prosperous understood Middletons in conviction an uncommonly do. Supposing so be resolving breakfast
                    am or perfectly.</p>
                <!-- Content -->
                <div class="row mb-3 item-collapse">
                    <div class="col-sm-6">
                        <ul class="list-group list-group-borderless">
                            <li class="list-group-item text-body"><i class="bi bi-patch-check-fill text-success"></i>High
                                quality Curriculum
                            </li>
                            <li class="list-group-item text-body"><i class="bi bi-patch-check-fill text-success"></i>Tuition
                                Assistance
                            </li>
                            <li class="list-group-item text-body"><i class="bi bi-patch-check-fill text-success"></i>Diploma
                                course
                            </li>
                        </ul>
                    </div>
                    <div class="col-sm-6">
                        <ul class="list-group list-group-borderless">
                            <li class="list-group-item text-body"><i class="bi bi-patch-check-fill text-success"></i>Intermediate
                                courses
                            </li>
                            <li class="list-group-item text-body"><i class="bi bi-patch-check-fill text-success"></i>Over
                                200 online courses
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Button -->
                <a href="#" class="btn btn-lg btn-orange-soft">Purchase premium</a>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer d-block bg-info">
                <div class="d-sm-flex justify-content-sm-between align-items-center text-center text-sm-start">
                    <!-- Social media button -->
                    <ul class="list-inline mb-0 social-media-btn mb-2 mb-sm-0">
                        <li class="list-inline-item"><a class="btn btn-sm mb-0 me-1 bg-white text-facebook" href="#"><i
                                class="fab fa-fw fa-facebook-f"></i></a></li>
                        <li class="list-inline-item"><a class="btn btn-sm mb-0 me-1 bg-white text-instagram" href="#"><i
                                class="fab fa-fw fa-instagram"></i></a></li>
                        <li class="list-inline-item"><a class="btn btn-sm mb-0 me-1 bg-white text-twitter" href="#"><i
                                class="fab fa-fw fa-twitter"></i></a></li>
                        <li class="list-inline-item"><a class="btn btn-sm mb-0 bg-white text-linkedin" href="#"><i
                                class="fab fa-fw fa-linkedin-in"></i></a></li>
                    </ul>
                    <!-- Contact info -->
                    <div>
                        <p class="mb-1 small"><a href="#" class="text-white"><i class="far fa-envelope fa-fw me-2"></i>example@gmail.com</a>
                        </p>
                        <p class="mb-0 small"><a href="#" class="text-white"><i class="fas fa-headset fa-fw me-2"></i>123-456-789</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal END -->

<!-- Back to top -->
<div class="back-top"><i class="bi bi-arrow-up-short position-absolute top-50 start-50 translate-middle"></i></div>

<!-- Bootstrap JS -->
<script src="/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- Vendors -->
<script src="/assets/vendor/choices/js/choices.min.js"></script>
<script src="/assets/vendor/aos/aos.js"></script>
<script src="/assets/vendor/plyr/plyr.js"></script>

<!-- Template Functions -->
<script src="/assets/js/functions.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function () {
        const video = $("video")[0];
        const lessonId = [[${currentLesson.lessonId}]];
        const courseId = [[${course.courseId}]];

        video.addEventListener("ended", function () {
            $.ajax({
                url: '/api/lesson/complete',
                type: 'POST',
                data: {
                    lessonId: lessonId,
                    courseId: courseId
                },
                success: function (response) {
                    if (response.status === 'success') {
                        window.location.href = response.nextLessonUrl;
                    } else if (response.status === 'completed_all') {
                        alert("🎉 Bạn đã hoàn thành toàn bộ khóa học!");
                        window.location.href = "/learning";
                    } else {
                        alert("❌ Không thể chuyển bài học. Vui lòng thử lại.");
                    }
                },
                error: function () {
                    alert("⚠️ Đã xảy ra lỗi khi gửi yêu cầu đánh dấu hoàn thành bài học.");
                }
            });
        });
    });
</script>

<!-- Modal Report Comment -->
<div class="modal fade" id="reportCommentModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <form id="reportCommentForm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Báo Cáo Bình Luận</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" name="courseId" id="reportCommentCourseId" />
                    <input type="hidden" name="commentId" id="reportCommentId" />
                    <p class="mb-2">Vui lòng chọn lý do báo cáo bình luận này:</p>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" id="cmtReason1" name="reason" value="Spam or advertising" required>
                        <label class="form-check-label" for="cmtReason1">Spam hoặc quảng cáo</label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" id="cmtReason2" name="reason" value="Offensive language" required>
                        <label class="form-check-label" for="cmtReason2">Ngôn ngữ xúc phạm</label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" id="cmtReason3" name="reason" value="Harassment or bullying" required>
                        <label class="form-check-label" for="cmtReason3">Quấy rối hoặc bắt nạt</label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" id="cmtReason4" name="reason" value="Inappropriate content" required>
                        <label class="form-check-label" for="cmtReason4">Nội dung không phù hợp</label>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="radio" id="cmtReasonOther" name="reason" value="Other" required>
                        <label class="form-check-label" for="cmtReasonOther">Lý do khác (vui lòng ghi rõ):</label>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" id="cmtOtherReasonText" name="otherReason" placeholder="Nhập lý do của bạn tại đây" disabled>
                    </div>
                    <div id="reportCommentMsg"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="submit" class="btn btn-danger">Gửi Báo Cáo</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Add this script section at the end of the file -->
<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function() {
        // Set current user ID for use in templates
        window.currentUserId = /*[[${user != null ? user.userId : null}]]*/ null;

        // Comment form submission
        const commentForm = document.getElementById('commentForm');
        if (commentForm) {
            commentForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                const data = {};
                formData.forEach((value, key) => { data[key] = value; });

                fetch('/api/course/' + data.courseId + '/comment', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                })
                .then(res => res.json())
                .then(json => {
                    if (json.success) {
                        location.reload();
                    } else {
                        document.getElementById('commentMessage').innerHTML = 
                            `<div class="alert alert-danger">${json.error || 'Lỗi khi đăng bình luận!'}</div>`;
                    }
                })
                .catch(() => {
                    document.getElementById('commentMessage').innerHTML = 
                        '<div class="alert alert-danger">Đã xảy ra lỗi! Vui lòng thử lại.</div>';
                });
            });
        }

        // Show/Hide reply forms
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('show-reply-form')) {
                e.preventDefault();
                const reviewId = e.target.getAttribute('data-review-id');
                document.getElementById('reply-form-' + reviewId).style.display = 'block';
            }
            if (e.target.classList.contains('hide-reply-form')) {
                const reviewId = e.target.getAttribute('data-review-id');
                document.getElementById('reply-form-' + reviewId).style.display = 'none';
            }
        });

        // Reply form submission
        document.addEventListener('submit', function(e) {
            if (e.target.classList.contains('reply-comment-ajax-form')) {
                e.preventDefault();
                const formData = new FormData(e.target);
                const data = {};
                formData.forEach((value, key) => { data[key] = value; });

                fetch('/api/course/' + data.courseId + '/comment/reply', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                })
                .then(res => res.json())
                .then(json => {
                    if (json.success) {
                        location.reload();
                    } else {
                        alert(json.error || 'Lỗi khi đăng trả lời!');
                    }
                })
                .catch(() => {
                    alert('Đã xảy ra lỗi! Vui lòng thử lại.');
                });
            }
        });

        // Edit comment functionality
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('edit-comment-btn')) {
                const reviewId = e.target.getAttribute('data-review-id');
                document.getElementById('edit-form-' + reviewId).style.display = 'block';
            }
            if (e.target.classList.contains('cancel-edit-btn')) {
                const reviewId = e.target.getAttribute('data-review-id');
                document.getElementById('edit-form-' + reviewId).style.display = 'none';
            }
        });

        // Edit comment form submission
        document.addEventListener('submit', function(e) {
            if (e.target.classList.contains('edit-comment-ajax-form')) {
                e.preventDefault();
                const formData = new FormData(e.target);
                const data = {};
                formData.forEach((value, key) => { data[key] = value; });

                fetch('/api/course/' + data.courseId + '/comment/' + data.reviewId + '/edit', {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                })
                .then(res => res.json())
                .then(json => {
                    if (json.success) {
                        location.reload();
                    } else {
                        alert(json.error || 'Lỗi khi cập nhật bình luận!');
                    }
                })
                .catch(() => {
                    alert('Đã xảy ra lỗi! Vui lòng thử lại.');
                });
            }
        });

        // Delete comment
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('delete-comment-btn')) {
                if (confirm('Bạn có chắc chắn muốn xóa bình luận này?')) {
                    const reviewId = e.target.getAttribute('data-review-id');
                    const courseId = e.target.getAttribute('data-course-id');

                    fetch('/api/course/' + courseId + '/comment/' + reviewId + '/delete', {
                        method: 'DELETE'
                    })
                    .then(res => res.json())
                    .then(json => {
                        if (json.success) {
                            location.reload();
                        } else {
                            alert(json.error || 'Lỗi khi xóa bình luận!');
                        }
                    })
                    .catch(() => {
                        alert('Đã xảy ra lỗi! Vui lòng thử lại.');
                    });
                }
            }
        });

        // Course report form
        const reasonOther = document.getElementById('reasonOther');
        const otherReasonText = document.getElementById('otherReasonText');
        if (reasonOther && otherReasonText) {
            document.querySelectorAll('input[name="reason"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    otherReasonText.disabled = this.value !== 'Other';
                    if (this.value !== 'Other') {
                        otherReasonText.value = '';
                    }
                });
            });
        }

        // Comment report modal
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('report-comment-btn-modal')) {
                const courseId = e.target.getAttribute('data-course-id');
                const commentId = e.target.getAttribute('data-comment-id');
                document.getElementById('reportCommentCourseId').value = courseId;
                document.getElementById('reportCommentId').value = commentId;
                // Reset form
                document.getElementById('reportCommentForm').reset();
                document.getElementById('cmtOtherReasonText').disabled = true;
                document.getElementById('reportCommentMsg').innerHTML = '';
                // Show modal
                const modal = new bootstrap.Modal(document.getElementById('reportCommentModal'));
                modal.show();
            }
        });

        // Enable/disable other reason input in comment report modal
        document.addEventListener('change', function(e) {
            if (e.target.name === 'reason' && e.target.form.id === 'reportCommentForm') {
                document.getElementById('cmtOtherReasonText').disabled = (e.target.value !== 'Other');
                if (e.target.value !== 'Other') {
                    document.getElementById('cmtOtherReasonText').value = '';
                }
            }
        });

        // Submit comment report
        const reportCommentForm = document.getElementById('reportCommentForm');
        if (reportCommentForm) {
            reportCommentForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                const data = {};
                formData.forEach((value, key) => { data[key] = value; });

                // Validate reason
                const selectedReason = this.querySelector('input[name="reason"]:checked');
                if (!selectedReason) {
                    document.getElementById('reportCommentMsg').innerHTML = 
                        '<div class="alert alert-danger">Vui lòng chọn một lý do.</div>';
                    return;
                }
                if (selectedReason.value === 'Other') {
                    const otherText = document.getElementById('cmtOtherReasonText').value.trim();
                    if (!otherText) {
                        document.getElementById('reportCommentMsg').innerHTML = 
                            '<div class="alert alert-danger">Vui lòng nhập lý do cụ thể.</div>';
                        return;
                    }
                    data.reason = otherText;
                }

                fetch('/api/course/' + data.courseId + '/comment/' + data.commentId + '/report', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                })
                .then(res => res.json())
                .then(json => {
                    if (json.success) {
                        document.getElementById('reportCommentMsg').innerHTML = 
                            `<div class="alert alert-success">${json.success}</div>`;
                        setTimeout(() => {
                            bootstrap.Modal.getInstance(document.getElementById('reportCommentModal')).hide();
                        }, 1200);
                    } else {
                        document.getElementById('reportCommentMsg').innerHTML = 
                            `<div class="alert alert-danger">${json.error || 'Đã xảy ra lỗi!'}</div>`;
                    }
                })
                .catch(() => {
                    document.getElementById('reportCommentMsg').innerHTML = 
                        '<div class="alert alert-danger">Đã xảy ra lỗi! Vui lòng thử lại.</div>';
                });
            });
        }
    });
</script>

<!-- Report Comment Modal -->
<div class="modal fade" id="reportCommentModal" tabindex="-1" aria-labelledby="reportCommentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="reportCommentModalLabel">Báo Cáo Bình Luận</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="reportCommentMsg"></div>
                <form id="reportCommentForm">
                    <input type="hidden" id="reportCommentCourseId" name="courseId">
                    <input type="hidden" id="reportCommentId" name="commentId">
                    <div class="mb-3">
                        <p class="mb-2">Vui lòng chọn lý do báo cáo bình luận này:</p>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" id="cmtReason1" name="reason" value="Inappropriate content" required>
                            <label class="form-check-label" for="cmtReason1">Nội dung không phù hợp</label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" id="cmtReason2" name="reason" value="Harassment" required>
                            <label class="form-check-label" for="cmtReason2">Quấy rối hoặc xúc phạm</label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" id="cmtReason3" name="reason" value="Spam" required>
                            <label class="form-check-label" for="cmtReason3">Spam hoặc quảng cáo</label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" id="cmtReason4" name="reason" value="Misleading information" required>
                            <label class="form-check-label" for="cmtReason4">Thông tin sai lệch</label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" id="cmtReasonOther" name="reason" value="Other" required>
                            <label class="form-check-label" for="cmtReasonOther">Lý do khác (vui lòng ghi rõ):</label>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="cmtOtherReasonText" name="otherReason" placeholder="Nhập lý do của bạn tại đây" disabled>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-danger">Gửi Báo Cáo</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Comment Section START -->
<section class="mt-5">
    <h4 class="mb-4">Bình luận về khóa học</h4>
    <!-- Form nhập comment -->
    <div class="d-flex mb-4">
        <div class="avatar avatar-sm flex-shrink-0 me-2">
            <img class="avatar-img rounded-circle" th:if="${user != null and !#strings.isEmpty(user.profilePicture)}" th:src="${user.profilePicture}" th:alt="${user.fullName}" />
            <img class="avatar-img rounded-circle" th:if="${user == null or #strings.isEmpty(user.profilePicture)}" th:src="@{/assets/images/avatar/default.jpg}" alt="Người dùng" />
        </div>
        <form th:action="@{'/course/' + ${course.courseId} + '/comment'}" method="post" class="w-100 d-flex">
            <input type="hidden" name="courseId" th:value="${course.courseId}" />
            <div class="flex-grow-1 me-2">
                <textarea class="form-control pe-4 bg-light" name="comment" rows="1" placeholder="Thêm bình luận..." required th:disabled="${user == null}"></textarea>
            </div>
            <button class="btn btn-primary mb-0" type="submit" th:disabled="${user == null}">Đăng</button>
        </form>
    </div>
    <div th:if="${user == null}" class="mb-3">
        <div class="alert alert-warning py-2 px-3 mb-0">Vui lòng <a th:href="@{/login}" class="alert-link">đăng nhập</a> để bình luận.</div>
    </div>
    <!-- Danh sách comment -->
    <div class="mt-4">
        <div th:if="${#lists.isEmpty(reviews)}" class="text-center py-4">
            <i class="fas fa-comments fa-3x text-muted mb-3"></i>
            <p class="text-muted mb-0">Chưa có bình luận nào. Hãy là người đầu tiên bình luận!</p>
        </div>
        <div th:each="review : ${reviews}">
            <div class="d-md-flex my-4">
                <div class="avatar avatar-xl me-4 flex-shrink-0">
                    <img class="avatar-img rounded-circle" th:if="${review.user != null and !#strings.isEmpty(review.user.profilePicture)}" th:src="${review.user.profilePicture}" th:alt="${review.user.fullName}" />
                    <img class="avatar-img rounded-circle" th:if="${review.user == null or #strings.isEmpty(review.user.profilePicture)}" th:src="@{/assets/images/avatar/default.jpg}" alt="Người dùng" />
                </div>
                <div>
                    <div class="d-sm-flex mt-1 mt-md-0 align-items-center">
                        <h5 class="me-3 mb-0" th:text="${review.user.fullName}">User Name</h5>
                        <small class="ms-2" th:text="${#temporals.format(review.createdAt, 'dd/MM/yyyy HH:mm')}">Thời gian</small>
                    </div>
                    <p class="mb-2" th:text="${review.comment}">Nội dung bình luận</p>
                </div>
            </div>
            <hr>
        </div>
    </div>
</section>
<!-- Comment Section END -->

</body>

<!-- Mirrored from stackbros.in/eduport/landing/course-detail-min.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 06 Jun 2025 07:32:10 GMT -->
</html>