<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:replace="instructorDashboard/fragments/header :: header"></div>
<body id="page-top">
<div id="wrapper">
    <div th:replace="instructorDashboard/fragments/sidebar :: sidebar"></div>
    <div id="content-wrapper" class="d-flex flex-column">
        <div id="content">
            <div th:replace="instructorDashboard/fragments/topbar :: topbar"></div>

            <div class="container-fluid">
                <!-- Course Details -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h2 class="h4 mb-2 text-primary" th:text="${course.title}">Course Title</h2>
                        <p th:text="${course.description}">Course description goes here...</p>

                        <!-- Optional YouTube video preview (only if present) -->
<!--                        <div th:if="${course.videoUrl != null}">-->
<!--                            <iframe width="560" height="315"-->
<!--                                    th:src="'https://www.youtube.com/embed/' + ${course.videoUrl}"-->
<!--                                    title="YouTube video player" frameborder="0"-->
<!--                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"-->
<!--                                    allowfullscreen>-->
<!--                            </iframe>-->
<!--                        </div>-->
                    </div>
                </div>

                <!-- Lesson Management -->
                <h3 class="h5 mb-3 text-gray-800">Lesson Management</h3>
                <a th:href="@{'/instructordashboard/viewcourse/' + ${courseId} + '/lessons/add'}" class="btn btn-primary mb-3">Add Lesson</a>

                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Course</th>
                        <th>Type</th>
                        <th>Duration</th>
                        <th>Free</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="lesson : ${lessons}">
                        <td th:text="${lesson.lessonId}">1</td>
                        <td th:text="${lesson.title}">Title</td>
                        <td th:text="${lesson.courseTitle}">Course</td>
                        <td th:text="${lesson.contentType}">video</td>
                        <td th:text="${lesson.duration} + ' min'">10 min</td>
                        <td>
                            <span class="badge badge-success" th:if="${lesson.free}">Free</span>
                            <span class="badge badge-secondary" th:unless="${lesson.free}">Paid</span>
                        </td>
                        <td>
                            <a th:href="@{'/instructordashboard/viewcourse/' + ${courseId} + '/lessons/edit/' + ${lesson.lessonId}}" class="btn btn-warning btn-action" title="Edit">
                                <i class="fas fa-edit"></i>
                            </a>
                            <a th:href="@{'/instructordashboard/viewcourse/' + ${courseId} + '/lessons/delete/' + ${lesson.lessonId}}" class="btn btn-danger btn-action" title="Delete"
                               onclick="return confirm('Are you sure you want to delete this course?');">
                                <i class="fas fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

        </div>
        <div th:insert="instructorDashboard/fragments/footer :: footer"></div>
    </div>
</div>
</body>
</html>
