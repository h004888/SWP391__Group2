<div th:fragment="CreateCourseContent">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="text-white">Submit a new Course</h1>
                <p class="text-white mb-0">
                    Read our <a href="#" class="text-white"><u>"Before you create a course"</u></a> article before submitting!
                </p>
            </div>
        </div>
    </div>

    <div class="container mt-4">
        <div class="row">
            <div class="col-md-8 mx-auto text-center">
                <p>Use this interface to add a new Course to the portal. Once you are done adding the item it will be reviewed for quality. If approved, your course will appear for sale and you will be informed by email that your course has been accepted.</p>
            </div>
        </div>

        <div class="card bg-transparent border rounded-3 mb-5">
            <div id="stepper" class="bs-stepper stepper-outline">
                <div class="card-header bg-light border-bottom px-lg-5">
                    <div class="bs-stepper-header" role="tablist">
                        <div class="step" data-target="#step-1">
                            <button type="button" class="btn btn-link step-trigger mb-0" role="tab" id="steppertrigger1" aria-controls="step-1">
                                <span class="bs-stepper-circle">1</span>
                            </button>
                            <h6 class="bs-stepper-label d-none d-md-block">Course details</h6>
                        </div>
                        <div class="line"></div>
                        <div class="step" data-target="#step-2">
                            <button type="button" class="btn btn-link step-trigger mb-0" role="tab" id="steppertrigger2" aria-controls="step-2">
                                <span class="bs-stepper-circle">2</span>
                            </button>
                            <h6 class="bs-stepper-label d-none d-md-block">Course media</h6>
                        </div>
                        <div class="line"></div>
                        <div class="step" data-target="#step-3">
                            <button type="button" class="btn btn-link step-trigger mb-0" role="tab" id="steppertrigger3" aria-controls="step-3">
                                <span class="bs-stepper-circle">3</span>
                            </button>
                            <h6 class="bs-stepper-label d-none d-md-block">Curriculum</h6>
                        </div>
                        <div class="line"></div>
                        <div class="step" data-target="#step-4">
                            <button type="button" class="btn btn-link step-trigger mb-0" role="tab" id="steppertrigger4" aria-controls="step-4">
                                <span class="bs-stepper-circle">4</span>
                            </button>
                            <h6 class="bs-stepper-label d-none d-md-block">Additional information</h6>
                        </div>
                    </div>
                </div>

                <div class="card-body">
                    <div class="bs-stepper-content">
                        <form id="createCourseForm" enctype="multipart/form-data" th:action="@{/instructor/courses/add}" th:object="${courseForm}" method="post">
                            <!-- Step 1 -->
                            <div id="step-1" role="tabpanel" class="content fade" aria-labelledby="steppertrigger1">
                                <h4>Course details</h4>
                                <hr>
                                <div class="row g-4">
                                    <div class="col-12">
                                        <label class="form-label">Course title</label>
                                        <input class="form-control" th:field="*{title}" type="text" placeholder="Enter course title" required>
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label">Short description</label>
                                        <textarea class="form-control" th:field="*{shortDescription}" rows="2" placeholder="Enter keywords" required></textarea>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Course category</label>
                                        <select class="form-select" th:field="*{category}" required>
                                            <option value="">Select category</option>
                                            <option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.name}"></option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Course time</label>
                                        <input class="form-control" th:field="*{duration}" type="text" placeholder="Enter course time">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Course price</label>
                                        <input type="number" class="form-control" th:field="*{price}" placeholder="Enter course price">
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label">Add description</label>
                                        <textarea class="form-control" th:field="*{description}" rows="5" placeholder="Full course description"></textarea>
                                    </div>
                                    <div class="d-flex justify-content-end mt-3">
                                        <button type="button" class="btn btn-primary next-btn mb-0">Next</button>
                                    </div>
                                </div>
                            </div>
                            <!-- Step 2 -->
                            <div id="step-2" role="tabpanel" class="content fade" aria-labelledby="steppertrigger2">
                                <h4>Course media</h4>
                                <hr>
                                <div class="row">
                                    <div class="col-12">
                                        <label class="form-label">Course image</label>
                                        <input class="form-control" th:field="*{image}" type="file" accept="image/*" required>
                                    </div>
                                    <div class="col-12 mt-3">
                                        <label class="form-label">Course video (optional)</label>
                                        <input class="form-control" th:field="*{video}" type="file" accept="video/*">
                                    </div>
                                    <div class="d-flex justify-content-between mt-3">
                                        <button type="button" class="btn btn-secondary prev-btn mb-0">Previous</button>
                                        <button type="button" class="btn btn-primary next-btn mb-0">Next</button>
                                    </div>
                                </div>
                            </div>
                            <!-- Step 3 -->
                            <div id="step-3" role="tabpanel" class="content fade" aria-labelledby="steppertrigger3">
                                <h4>Curriculum</h4>
                                <hr>
                                <div class="row">
                                    <div class="col-12">
                                        <label class="form-label">Curriculum (optional)</label>
                                        <textarea class="form-control" th:field="*{curriculum}" rows="5" placeholder="List curriculum or upload file"></textarea>
                                    </div>
                                    <div class="d-flex justify-content-between mt-3">
                                        <button type="button" class="btn btn-secondary prev-btn mb-0">Previous</button>
                                        <button type="button" class="btn btn-primary next-btn mb-0">Next</button>
                                    </div>
                                </div>
                            </div>
                            <!-- Step 4 -->
                            <div id="step-4" role="tabpanel" class="content fade" aria-labelledby="steppertrigger4">
                                <h4>Additional information</h4>
                                <hr>
                                <div class="row">
                                    <div class="col-12">
                                        <label class="form-label">Notes (optional)</label>
                                        <textarea class="form-control" th:field="*{notes}" rows="3" placeholder="Any additional notes"></textarea>
                                    </div>
                                    <div class="d-md-flex justify-content-between align-items-start mt-4">
                                        <button type="button" class="btn btn-secondary prev-btn mb-2 mb-md-0">Previous</button>
                                        <button type="submit" class="btn btn-success mb-2 mb-sm-0">Submit Course</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stepper JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var stepper = new window.Stepper(document.querySelector('#stepper'));
            document.querySelectorAll('.next-btn').forEach(function(btn) {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    stepper.next();
                });
            });
            document.querySelectorAll('.prev-btn').forEach(function(btn) {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    stepper.previous();
                });
            });
        });
    </script>
</div>
